// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.16/esri/copyright.txt for details.
//>>built
require({cache:{"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b){function q(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}g=g(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var b=
this._firstAroundPosition,a=m.position(this._firstAroundNode,!0),e=a.x-b.x,b=a.y-b.y;if(e||b){this._firstAroundPosition=a;for(a=0;a<this._stack.length;a++){var q=this._stack[a].wrapper.style;q.top=parseFloat(q.top)+b+"px";"auto"==q.right?q.left=parseFloat(q.left)+e+"px":q.right=parseFloat(q.right)-e+"px"}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),e||b?10:50)}},_createWrapper:function(b){var a=b._popupWrapper,c=b.domNode;a||(a=h.create("div",{"class":"dijitPopup",style:{display:"none"},
role:"region","aria-label":b["aria-label"]||b.label||b.name||b.id},b.ownerDocumentBody),a.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",b._popupWrapper=a,k.after(b,"destroy",q,!0),"ontouchend"in document&&y(a,"touchend",function(b){/^(input|button|textarea)$/i.test(b.target.tagName)||b.preventDefault()}));return a},moveOffScreen:function(b){var c=this._createWrapper(b);b=m.isBodyLtr(b.ownerDocument);var a={visibility:"hidden",top:"-9999px",display:""};a[b?"left":
"right"]="-9999px";a[b?"right":"left"]="auto";f.set(c,a);return c},hide:function(b){var a=this._createWrapper(b);f.set(a,{display:"none",height:"auto",overflow:"visible",border:""});b=b.domNode;"_originalStyle"in b&&(b.style.cssText=b._originalStyle)},getTopPopup:function(){for(var b=this._stack,a=b.length-1;0<a&&b[a].parent===b[a-1].widget;a--);return b[a]},open:function(b){for(var q=this._stack,u=b.popup,w=u.domNode,t=b.orient||["below","below-alt","above","above-alt"],p=b.parent?b.parent.isLeftToRight():
m.isBodyLtr(u.ownerDocument),x=b.around,g=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;q.length&&(!b.parent||!l.isDescendant(b.parent.domNode,q[q.length-1].widget.domNode));)this.close(q[q.length-1].widget);var C=this.moveOffScreen(u);u.startup&&!u._started&&u.startup();var h,k=m.position(w);if("maxHeight"in b&&-1!=b.maxHeight)h=b.maxHeight||Infinity;else{h=r.getEffectiveBox(this.ownerDocument);var n=x?m.position(x,!1):{y:b.y-(b.padding||0),h:2*(b.padding||0)};h=Math.floor(Math.max(n.y,
h.h-(n.y+n.h)))}k.h>h&&(k=f.getComputedStyle(w),f.set(C,{overflowY:"scroll",height:h+"px",border:k.borderLeftWidth+" "+k.borderLeftStyle+" "+k.borderLeftColor}),w._originalStyle=w.style.cssText,w.style.border="none");d.set(C,{id:g,style:{zIndex:this._beginZIndex+q.length},"class":"dijitPopup "+(u.baseClass||u["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});0==q.length&&x&&(this._firstAroundNode=x,this._firstAroundPosition=m.position(x,!0),this._aroundMoveListener=setTimeout(c.hitch(this,
"_repositionAll"),50));a("config-bgIframe")&&!u.bgIframe&&(u.bgIframe=new v(C));g=u.orient?c.hitch(u,"orient"):null;t=x?s.around(C,x,t,p,g):s.at(C,b,"R"==t?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding,g);C.style.visibility="visible";w.style.visibility="visible";w=[];w.push(y(C,"keydown",c.hitch(this,function(a){if(a.keyCode==e.ESCAPE&&b.onCancel)a.stopPropagation(),a.preventDefault(),b.onCancel();else if(a.keyCode==e.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));
u.onCancel&&b.onCancel&&w.push(u.on("cancel",b.onCancel));w.push(u.on(u.onExecute?"execute":"change",c.hitch(this,function(){var b=this.getTopPopup();if(b&&b.onExecute)b.onExecute()})));q.push({widget:u,wrapper:C,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:w});if(u.onOpen)u.onOpen(t);return t},close:function(b){for(var a=this._stack;b&&n.some(a,function(a){return a.widget==b})||!b&&a.length;){var c=a.pop(),q=c.widget,e=c.onClose;q.bgIframe&&(q.bgIframe.destroy(),
delete q.bgIframe);if(q.onClose)q.onClose();for(var p;p=c.handlers.pop();)p.remove();q&&q.domNode&&this.hide(q);e&&e()}0==a.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return b.popup=new g})},"esri/dijit/_EventedWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on ../Evented dijit/_WidgetBase".split(" "),function(n,k,g,l,d,h){return n([h,d],{_onMap:function(d){var f=
this.constructor._onMap,a;if(!f||!f.FINAL)delete this.constructor._onMap,f=this.registerConnectEvents(),f.FINAL=!0;d=d.toLowerCase();f[d]?a=this[f[d].method]:(d=this._onCamelCase(d),this[d]&&(a=d));return a},on:function(d,f){var a=this._onMap(d),e=d.replace(/\-/g,""),c="on"+e in this.domNode;return a||!c?this.inherited(arguments):this.own(l(this.domNode,e,f))[0]},emit:function(d,f,a){var e,c,h,s=d.toLowerCase(),g=this.constructor._onMap||this.registerConnectEvents();c=this[this._onMap(s)];f=f||{};
f.target||(f.target=this);c&&(g&&g[s])&&(this._onObj2Arr(function(){e=Array.prototype.slice.call(arguments)},g[s].argKeys)(f),h=k.mixin({},arguments),h[2]=e,h[0]=g[s].name.replace(/^on/,""));return this.inherited(h||arguments)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(n,k,g,l,d,h,m,f,a){return n("dijit.form.DropDownButton",
[h,m,f],{baseClass:"dijitDropDownButton",templateString:a,_fillContent:function(){if(this.srcNodeRef){var a=g("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=g("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=l.byNode(a));delete this.dropDownContainer}this.dropDown&&d.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&
(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,f=c.on("load",k.hitch(this,function(){f.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(n,k,g,l,d,h,m){var f={_isElementShown:function(a){var e=l.get(a);return"hidden"!=e.visibility&&"collapsed"!=e.visibility&&"none"!=e.display&&"hidden"!=
g.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return g.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var e;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;e=c.body}catch(f){try{e=a.contentWindow.document.body}catch(s){return!1}}return e&&("true"==e.contentEditable||e.firstChild&&"true"==e.firstChild.contentEditable);default:return"true"==a.contentEditable}},
effectiveTabIndex:function(a){return g.get(a,"disabled")?void 0:g.has(a,"tabIndex")?+g.get(a,"tabIndex"):f.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=f.effectiveTabIndex(a)},isFocusable:function(a){return-1<=f.effectiveTabIndex(a)},_getTabNavigable:function(a){function e(b){return b&&"input"==b.tagName.toLowerCase()&&b.type&&"radio"==b.type.toLowerCase()&&b.name&&b.name.toLowerCase()}var c,d,s,l,k,b,q={},A=f._isElementShown,z=f.effectiveTabIndex,u=function(a){for(a=a.firstChild;a;a=
a.nextSibling)if(!(1!=a.nodeType||9>=h("ie")&&"HTML"!==a.scopeName||!A(a))){var f=z(a);if(0<=f){if(0==f)c||(c=a),d=a;else if(0<f){if(!s||f<l)l=f,s=a;if(!k||f>=b)b=f,k=a}f=e(a);g.get(a,"checked")&&f&&(q[f]=a)}"SELECT"!=a.nodeName.toUpperCase()&&u(a)}};A(a)&&u(a);return{first:q[e(c)]||c,last:q[e(d)]||d,lowest:q[e(s)]||s,highest:q[e(k)]||k}},getFirstInTabbingOrder:function(a,e){var c=f._getTabNavigable(k.byId(a,e));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,e){var c=f._getTabNavigable(k.byId(a,
e));return c.last?c.last:c.highest}};d.mixin(m,f);return f})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b,q){return e("dijit.layout.ContentPane",[g,l,d],{href:"",content:"",extractContent:!1,
parseOnLoad:!0,parserScope:n._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,
markupFactory:function(b,a,c){var q=new c(b,a);return!q.href&&q._contentSetter&&q._contentSetter.parseDeferred&&!q._contentSetter.parseDeferred.isFulfilled()?q._contentSetter.parseDeferred.then(function(){return q}):q},create:function(b,a){if((!b||!b.template)&&a&&!("href"in b)&&!("content"in b)){a=y.byId(a);for(var c=a.ownerDocument.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);b=k.delegate(b,{content:c})}this.inherited(arguments,[b,a])},postMixInProperties:function(){this.inherited(arguments);
var a=b.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&a.forEach(this._contentSetter.parseResults,function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=
!0)},this)},_startChildren:function(){a.forEach(this.getChildren(),function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=!0)});this._contentSetter&&a.forEach(this._contentSetter.parseResults,function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=!0)},this)},setHref:function(b){n.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",b)},_setHrefAttr:function(b){this.cancel();
this.onLoadDeferred=new c(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",b);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(b){n.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",b)},_setContentAttr:function(b){this._set("href","");this.cancel();this.onLoadDeferred=new c(k.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(b||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(b){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new c(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var b=this,a={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};k.isObject(this.ioArgs)&&k.mixin(a,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||
r.get)(a),q;c.then(function(a){q=a;try{return b._isDownloaded=!0,b._setContent(a,!1)}catch(c){b._onError("Content",c)}},function(a){c.canceled||b._onError("Download",a);delete b._xhrDfd;return a}).then(function(){b.onDownloadEnd();delete b._xhrDfd;return q});delete this._hrefChanged},_onLoadHandler:function(b){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(b)}catch(a){console.error("Error "+this.widgetId+" running custom onLoad code: "+a.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(b){console.error("Error "+this.widgetId+" running custom onUnload code: "+b.message)}},destroyDescendants:function(b){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;a.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b);a._destroyed=!0});c&&(a.forEach(c.parseResults,function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b),a._destroyed=!0)}),delete c.parseResults);b||
v.empty(this.containerNode);delete this._singleChild},_setContent:function(b,a){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof m._ContentSetter||(c=this._contentSetter=new m._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(b){b=this.onContentError(b);try{this.containerNode.innerHTML=b}catch(a){console.error("Fatal "+this.id+" could not change content due to "+a.message,a)}})}));var e=k.mixin({cleanContent:this.cleanContent,
extractContent:this.extractContent,parseContent:!b.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),e=c.set(k.isObject(b)&&b.domNode?b.domNode:b,e),f=this;return q(e&&e.then?e:c.parseDeferred,function(){delete f._contentSetterParams;a||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(b))})},_onError:function(b,a,c){this.onLoadDeferred.reject(a);b=this["on"+b+"Error"].call(this,a);
c?console.error(c,a):b&&this._setContent(b,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(n,k,g,l,d){var h=new n,m;g(function(){var f=d.getBox();h._rlh=k(window,"resize",function(){var a=d.getBox();f.h==a.h&&f.w==a.w||(f=
a,h.emit("resize"))});if(8==l("ie")){var a=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=a&&(a=screen.deviceXDPI,h.emit("resize"))},500)}l("ios")&&(k(document,"focusin",function(a){m=a.target}),k(document,"focusout",function(a){m=null}))});h.getEffectiveBox=function(f){f=d.getBox(f);var a=m&&m.tagName&&m.tagName.toLowerCase();if(l("ios")&&m&&!m.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(m.type)))f.h*=0==orientation||180==orientation?
0.66:0.4,a=m.getBoundingClientRect(),f.h=Math.max(f.h,a.top+a.height);return f};return h})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b){c("dijit-legacy-requires")&&b(0,function(){n(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});
return g("dijit.Menu",r,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(b){return s.get(this._iframeContentDocument(b))||this._iframeContentDocument(b).__parent__||b.name&&document.frames[b.name]||null},_iframeContentDocument:function(b){return b.contentDocument||
b.contentWindow&&b.contentWindow.document||b.name&&document.frames[b.name]&&document.frames[b.name].document||null},bindDomNode:function(b){b=l.byId(b,this.ownerDocument);var c;if("iframe"==b.tagName.toLowerCase()){var s=b;c=this._iframeContentWindow(s);c=y.body(c.document)}else c=b==y.body(this.ownerDocument)?this.ownerDocument.documentElement:b;var u={node:b,iframe:s};d.set(b,"_dijitMenu"+this.id,this._bindings.push(u));var h=a.hitch(this,function(b){var a=this.selector,c=a?function(b){return e.selector(a,
b)}:function(b){return b},q=this;return[e(b,c(this.leftClickToOpen?"click":"contextmenu"),function(b){b.stopPropagation();b.preventDefault();(new Date).getTime()<this._lastKeyDown+500||q._scheduleOpen(this,s,{x:b.pageX,y:b.pageY},b.target)}),e(b,c("keydown"),function(b){if(93==b.keyCode||b.shiftKey&&b.keyCode==f.F10||this.leftClickToOpen&&b.keyCode==f.SPACE)b.stopPropagation(),b.preventDefault(),q._scheduleOpen(this,s,null,b.target),this._lastKeyDown=(new Date).getTime()})]});u.connects=c?h(c):[];
s&&(u.onloadHandler=a.hitch(this,function(){var b=this._iframeContentWindow(s),b=y.body(b.document);u.connects=h(b)}),s.addEventListener?s.addEventListener("load",u.onloadHandler,!1):s.attachEvent("onload",u.onloadHandler))},unBindDomNode:function(b){var a;try{a=l.byId(b,this.ownerDocument)}catch(c){return}b="_dijitMenu"+this.id;if(a&&d.has(a,b)){for(var e=d.get(a,b)-1,f=this._bindings[e],s;s=f.connects.pop();)s.remove();(s=f.iframe)&&(s.removeEventListener?s.removeEventListener("load",f.onloadHandler,
!1):s.detachEvent("onload",f.onloadHandler));d.remove(a,b);delete this._bindings[e]}},_scheduleOpen:function(b,a,c,e){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:e,delegatedTarget:b,iframe:a,coords:c})},1))},_openMyself:function(b){function a(){C.refocus&&k&&k.focus();v.close(C)}var e=b.target,f=b.iframe,s=b.coords,d=!s;this.currentTarget=b.delegatedTarget;if(s){if(f){b=h.position(f,!0);var e=this._iframeContentWindow(f),e=h.docScroll(e.document),
p=m.getComputedStyle(f),x=m.toPixelValue,g=(c("ie")&&c("quirks")?0:x(f,p.paddingLeft))+(c("ie")&&c("quirks")?x(f,p.borderLeftWidth):0),f=(c("ie")&&c("quirks")?0:x(f,p.paddingTop))+(c("ie")&&c("quirks")?x(f,p.borderTopWidth):0);s.x+=b.x+g-e.x;s.y+=b.y+f-e.y}}else s=h.position(e,!0),s.x+=10,s.y+=10;var C=this,f=this._focusManager.get("prevNode");b=this._focusManager.get("curNode");var k=!b||l.isDescendant(b,this.domNode)?f:b;v.open({popup:this,x:s.x,y:s.y,onExecute:a,onCancel:a,orient:this.isLeftToRight()?
"L":"R"});this.focus();d||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);v.close(this)}},destroy:function(){k.forEach(this._bindings,function(b){b&&this.unBindDomNode(b.node)},this);this.inherited(arguments)}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(n,k,g,l,d,h,m){d.add("highcontrast",function(){var f=m.doc.createElement("div");f.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(k.blankGif||n.toUrl("./resources/blank.gif"))+'");';m.body().appendChild(f);var a=l.getComputedStyle(f),e=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||e&&("none"==e||"url(invalid-url:)"==e);8>=d("ie")?f.outerHTML="":m.body().removeChild(f);return a});h(function(){d("highcontrast")&&g.add(m.body(),"dj_a11y")});return d})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(n,k,g,l,d){function h(f,
a){var e=f.resize?f.resize(a):g.setMarginBox(f.domNode,a);e?d.mixin(f,e):(d.mixin(f,g.getMarginBox(f.domNode)),d.mixin(f,a))}var m={marginBox2contentBox:function(f,a){var e=l.getComputedStyle(f),c=g.getMarginExtents(f,e),d=g.getPadBorderExtents(f,e);return{l:l.toPixelValue(f,e.paddingLeft),t:l.toPixelValue(f,e.paddingTop),w:a.w-(c.w+d.w),h:a.h-(c.h+d.h)}},layoutChildren:function(f,a,e,c,g){a=d.mixin({},a);k.add(f,"dijitLayoutContainer");e=n.filter(e,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(n.filter(e,function(a){return"center"==a.region||"client"==a.layoutAlign}));n.forEach(e,function(e){var f=e.domNode,d=e.region||e.layoutAlign;if(!d)throw Error("No region setting for "+e.id);var b=f.style;b.left=a.l+"px";b.top=a.t+"px";b.position="absolute";k.add(f,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));f={};c&&c==e.id&&(f["top"==e.region||"bottom"==e.region?"h":"w"]=g);"leading"==d&&(d=e.isLeftToRight()?"left":"right");"trailing"==d&&(d=e.isLeftToRight()?
"right":"left");"top"==d||"bottom"==d?(f.w=a.w,h(e,f),a.h-=e.h,"top"==d?a.t+=e.h:b.top=a.t+a.h+"px"):"left"==d||"right"==d?(f.h=a.h,h(e,f),a.w-=e.w,"left"==d?a.l+=e.w:b.left=a.l+a.w+"px"):("client"==d||"center"==d)&&h(e,a)})}};d.setObject("dijit.layout.utils",m);return m})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b,q,A,z,u,w,t,p){function x(b){return function(a){f[a?"set":"remove"](this.domNode,b,a);this._set(b,a)}}s.add("dijit-legacy-requires",!v.isAsync);s.add("dojo-bidi",!1);s("dijit-legacy-requires")&&q(0,function(){n(["dijit/_base/manager"])});var H={};l=h("dijit._WidgetBase",[A,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(b){this._set("ownerDocument",b)},attributeMap:{},_blankGif:l.blankGif||n.toUrl("dojo/resources/blank.gif"),_introspect:function(){var b=this.constructor;if(!b._setterAttrs){var a=b.prototype,c=b._setterAttrs=[],b=b._onMap={},e;for(e in a.attributeMap)c.push(e);for(e in a)/^on/.test(e)&&(b[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,
e.length-9),(!a.attributeMap||!(e in a.attributeMap))&&c.push(e))}},postscript:function(b,a){this.create(b,a)},create:function(b,a){this._introspect();this.srcNodeRef=m.byId(a);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);b&&(this.params=b,r.mixin(this,b));this.postMixInProperties();this.id||(this.id=p.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=u.body(this.ownerDocument);p.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var b={},a;for(a in this.params||{})b[a]=this._get(a);k.forEach(this.constructor._setterAttrs,
function(a){if(!(a in b)){var c=this._get(a);c&&this.set(a,c)}},this);for(a in b)this.set(a,b[a])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var b=this.baseClass.split(" ");this.isLeftToRight()||(b=b.concat(k.map(b,function(b){return b+"Rtl"})));a.add(this.domNode,b)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(b){!b._started&&
(!b._destroyed&&r.isFunction(b.startup))&&(b.startup(),b._started=!0)}))},destroyRecursive:function(b){this._beingDestroyed=!0;this.destroyDescendants(b);this.destroy(b)},destroy:function(b){function a(c){c.destroyRecursive?c.destroyRecursive(b):c.destroy&&c.destroy(b)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,r.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,a);this.domNode&&k.forEach(p.findWidgets(this.domNode,this.containerNode),a);this.destroyRendering(b);
p.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?f.remove(this.domNode,"widgetId"):e.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||e.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(b){k.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(b)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var a=this.domNode;r.isObject(b)?
y.set(a,b):a.style.cssText=a.style.cssText?a.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(b,c,e){e=3<=arguments.length?e:this.attributeMap[b];k.forEach(r.isArray(e)?e:[e],function(e){var q=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":r.isFunction(c)&&(c=r.hitch(this,c));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;q.tagName?f.set(q,e,c):q.set(e,c);break;case "innerText":q.innerHTML="";q.appendChild(this.ownerDocument.createTextNode(c));
break;case "innerHTML":q.innerHTML=c;break;case "class":a.replace(q,c,this[b])}},this)},get:function(b){var a=this._getAttrNames(b);return this[a.g]?this[a.g]():this._get(b)},set:function(b,a){if("object"===typeof b){for(var c in b)this.set(c,b[c]);return this}c=this._getAttrNames(b);var e=this[c.s];if(r.isFunction(e))var q=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",f=this[e]&&this[e].tagName,d;if(d=f)if(!(d=
H[f])){d=this[e];var p={},s;for(s in d)p[s.toLowerCase()]=!0;d=H[f]=p}s=d;c=b in this.attributeMap?this.attributeMap[b]:c.s in this?this[c.s]:s&&c.l in s&&"function"!=typeof a||/^aria-|^data-|^role$/.test(b)?e:null;null!=c&&this._attrToDom(b,a,c);this._set(b,a)}return q||this},_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;if(a[b])return a[b];var c=b.replace(/^[a-z]|-[a-zA-Z]/g,function(b){return b.charAt(b.length-1).toUpperCase()});return a[b]={n:b+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(b,a){var c=this[b];this[b]=a;if(this._created&&!(c===a||c!==c&&a!==a))this._watchCallbacks&&this._watchCallbacks(b,c,a),this.emit("attrmodified-"+b,{detail:{prevValue:c,newValue:a}})},_get:function(b){return this[b]},emit:function(a,c,e){c=c||{};void 0===c.bubbles&&(c.bubbles=!0);void 0===c.cancelable&&(c.cancelable=!0);c.detail||(c.detail={});c.detail.widget=this;var f,q=this["on"+a];q&&(f=q.apply(this,e?e:[c]));this._started&&!this._beingDestroyed&&
b.emit(this.domNode,a.toLowerCase(),c);return f},on:function(a,c){var e=this._onMap(a);return e?g.after(this,e,c,!0):this.own(b(this.domNode,a,c))[0]},_onMap:function(b){var a=this.constructor,c=a._onMap;if(!c){var c=a._onMap={},e;for(e in a.prototype)/^on/.test(e)&&(c[e.replace(/^on/,"").toLowerCase()]=e)}return c["string"==typeof b&&b.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?p.findWidgets(this.containerNode):
[]},getParent:function(){return p.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,a,c){return this.own(d.connect(b,a,this,c))[0]},disconnect:function(b){b.remove()},subscribe:function(b,a){return this.own(z.subscribe(b,r.hitch(this,a)))[0]},unsubscribe:function(b){b.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=y.get(this.domNode,"display")},placeAt:function(b,a){var c=
!b.tagName&&p.byId(b);c&&c.addChild&&(!a||"number"===typeof a)?c.addChild(this,a):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(a||"")?c.containerNode:c.domNode:m.byId(b,this.ownerDocument),e.place(this.domNode,c,a),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(b,a){var c=setTimeout(r.hitch(this,function(){c&&(c=null,this._destroyed||r.hitch(this,b)())}),a||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});s("dojo-bidi")&&
l.extend(t);return l})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r){return k("dijit._MenuBase",[y,r,v,s],{selected:null,_setSelectedAttr:function(b){this.selected!=b&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),
b&&b._setSelected(!0),this._set("selected",b))},activated:!1,_setActivatedAttr:function(b){d.toggle(this.domNode,"dijitMenuActive",b);d.toggle(this.domNode,"dijitMenuPassive",!b);this._set("activated",b)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(b){var a=c.byNode(b);return b.parentNode==this.containerNode&&a&&a.focus},postCreate:function(){var b=this,a="string"==typeof this.childSelector?this.childSelector:h.hitch(this,"childSelector");this.own(f(this.containerNode,
f.selector(a,m.enter),function(){b.onItemHover(c.byNode(this))}),f(this.containerNode,f.selector(a,m.leave),function(){b.onItemUnhover(c.byNode(this))}),f(this.containerNode,f.selector(a,e),function(a){b.onItemClick(c.byNode(this),a);a.stopPropagation()}),f(this.containerNode,f.selector(a,"focusin"),function(){b._onItemFocus(c.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(b,a,c,e){this.inherited(arguments);if(b&&(-1==e||b.popup&&1==e))this.onItemClick(b,a)},_keyboardSearchCompare:function(b,
a){return b.shortcutKey?a==b.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(b){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,b);else(b=this._getTopMenu())&&b._isMenuBar&&b.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(b){this.activated?(this.set("selected",b),b.popup&&
(!b.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(b)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(b,{type:"click"})},this.passivePopupDelay));this._hoveredChild=b;b._set("hovering",!0)},_onChildDeselect:function(b){this._stopPopupTimer();this.currentPopupItem==b&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=
this._pendingClose_timer=null;b._closePopup()},this.popupDelay))},onItemUnhover:function(b){this._hoveredChild==b&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);b._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var b=
this;b.parentMenu;b=b.parentMenu);return b},onItemClick:function(b,a){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(b);if(b.disabled)return!1;if(b.popup){this.set("selected",b);this.set("activated",!0);var c=/^key/.test(a._origType||a.type)||0==a.clientX&&0==a.clientY;this._openItemPopup(b,c)}else this.onExecute(),b._onClick?b._onClick(a):b.onClick(a)},_openItemPopup:function(b,a){if(b!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());
this._stopPopupTimer();var c=b.popup;c.parentMenu=this;this.own(this._mouseoverHandle=f.once(c.domNode,"mouseover",h.hitch(this,"_onPopupHover")));var e=this;b._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){a&&e.focusChild(b);e._cleanUp()},onExecute:h.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},a);this.currentPopupItem=b}},onOpen:function(){this.isShowingNow=!0;this.set("activated",
!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(l.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(b){if(this._hoveredChild&&this._hoveredChild!=b)this.onItemUnhover(this._hoveredChild);this.set("selected",b)},_onBlur:function(){this._cleanUp(!0);
this.inherited(arguments)},_cleanUp:function(b){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);b&&this.set("selected",null)}})})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(n,k,g,l,d,h,m,f,a,e){function c(b,a,c){return r&&c?function(b,a){return h(b,c,a)}:q?function(c,e){var f=h(c,a,function(b){e.call(this,b);M=(new Date).getTime()}),q=h(c,b,function(b){(!M||
(new Date).getTime()>M+1E3)&&e.call(this,b)});return{remove:function(){f.remove();q.remove()}}}:function(a,c){return h(a,b,c)}}function y(b){do if(void 0!==b.dojoClick)return b;while(b=b.parentNode)}function s(b,a,c){var f=y(b.target);if(z=!b.target.disabled&&f&&f.dojoClick)if(w=(u="useTarget"==z)?f:b.target,u&&b.preventDefault(),t=b.changedTouches?b.changedTouches[0].pageX-e.global.pageXOffset:b.clientX,p=b.changedTouches?b.changedTouches[0].pageY-e.global.pageYOffset:b.clientY,x=("object"==typeof z?
z.x:"number"==typeof z?z:0)||4,H=("object"==typeof z?z.y:"number"==typeof z?z:0)||4,!A){A=!0;var q=function(b){z=u?g.isDescendant(e.doc.elementFromPoint(b.changedTouches?b.changedTouches[0].pageX-e.global.pageXOffset:b.clientX,b.changedTouches?b.changedTouches[0].pageY-e.global.pageYOffset:b.clientY),w):z&&(b.changedTouches?b.changedTouches[0].target:b.target)==w&&Math.abs((b.changedTouches?b.changedTouches[0].pageX-e.global.pageXOffset:b.clientX)-t)<=x&&Math.abs((b.changedTouches?b.changedTouches[0].pageY-
e.global.pageYOffset:b.clientY)-p)<=H};e.doc.addEventListener(a,function(b){q(b);u&&b.preventDefault()},!0);e.doc.addEventListener(c,function(b){q(b);if(z){C=(new Date).getTime();var a=u?w:b.target;"LABEL"===a.tagName&&(a=g.byId(a.getAttribute("for"))||a);var c=b.changedTouches?b.changedTouches[0]:b,e=document.createEvent("MouseEvents");e._dojo_click=!0;e.initMouseEvent("click",!0,!0,b.view,b.detail,c.screenX,c.screenY,c.clientX,c.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);setTimeout(function(){h.emit(a,
"click",e);C=(new Date).getTime()},0)}},!0);b=function(b){e.doc.addEventListener(b,function(a){!a._dojo_click&&((new Date).getTime()<=C+1E3&&!("INPUT"==a.target.tagName&&l.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)};b("click");
b("mousedown");b("mouseup")}}var v=5>m("ios"),r=m("pointer-events")||m("MSPointer"),b=function(){var b={},a;for(a in{down:1,move:1,up:1,cancel:1,over:1,out:1})b[a]=m("MSPointer")?"MSPointer"+a.charAt(0).toUpperCase()+a.slice(1):"pointer"+a;return b}(),q=m("touch-events"),A,z,u=!1,w,t,p,x,H,C,M,I;r?a(function(){e.doc.addEventListener(b.down,function(a){s(a,b.move,b.up)},!0)}):q&&a(function(){function b(a){var c=d.delegate(a,{bubbles:!0});6<=m("ios")&&(c.touches=a.touches,c.altKey=a.altKey,c.changedTouches=
a.changedTouches,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey,c.shiftKey=a.shiftKey,c.targetTouches=a.targetTouches);return c}I=e.body();e.doc.addEventListener("touchstart",function(b){M=(new Date).getTime();var a=I;I=b.target;h.emit(a,"dojotouchout",{relatedTarget:I,bubbles:!0});h.emit(I,"dojotouchover",{relatedTarget:a,bubbles:!0});s(b,"touchmove","touchend")},!0);h(e.doc,"touchmove",function(a){M=(new Date).getTime();var c=e.doc.elementFromPoint(a.pageX-(v?0:e.global.pageXOffset),a.pageY-(v?0:e.global.pageYOffset));
c&&(I!==c&&(h.emit(I,"dojotouchout",{relatedTarget:c,bubbles:!0}),h.emit(c,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=c),h.emit(c,"dojotouchmove",b(a))||a.preventDefault())});h(e.doc,"touchend",function(a){M=(new Date).getTime();var c=e.doc.elementFromPoint(a.pageX-(v?0:e.global.pageXOffset),a.pageY-(v?0:e.global.pageYOffset))||e.body();h.emit(c,"dojotouchend",b(a))})});k={press:c("mousedown","touchstart",b.down),move:c("mousemove","dojotouchmove",b.move),release:c("mouseup","dojotouchend",b.up),
cancel:c(f.leave,"touchcancel",r?b.cancel:null),over:c("mouseover","dojotouchover",b.over),out:c("mouseout","dojotouchout",b.out),enter:f._eventHandler(c("mouseover","dojotouchover",b.over)),leave:f._eventHandler(c("mouseout","dojotouchout",b.out))};return n.touch=k})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(n,k,g,l,d){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,
widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var g=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);d.parse(g,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(l.hitch(this,function(d){this._startupWidgets=d;for(var f=0;f<d.length;f++)this._processTemplateNode(d[f],function(a,
e){return a[e]},function(a,e,c){return e in a?a.connect(a,e,c):a.on(e,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(d,g,f){return g(d,"dojoType")||g(d,"data-dojo-type")?!0:this.inherited(arguments)},
startup:function(){n.forEach(this._startupWidgets,function(d){d&&(!d._started&&d.startup)&&d.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
n.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,h.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(b){c=c.concat(n.map(c,function(a){return a+b}),"dijit"+b)}var c=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var e=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(e);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var e=this.stateNode||this.domNode,b={};n.forEach(e.className.split(" "),function(a){b[a]=!0});"_stateClasses"in this&&n.forEach(this._stateClasses,function(a){delete b[a]});n.forEach(c,function(a){b[a]=!0});var f=
[],d;for(d in b)f.push(d);e.className=f.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(a,c,e){function b(b){l.toggle(a,c+"Active",b)}if(!this.disabled&&!this.readOnly)switch(e.type){case "mouseover":case "MSPointerOver":case "pointerover":l.toggle(a,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":l.toggle(a,c+"Hover",!1);b(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":b(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":b(!1);
break;case "focus":case "focusin":l.toggle(a,c+"Focused",!0);break;case "blur":case "focusout":l.toggle(a,c+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});f(function(){function f(b,a,c){if(!c||!g.isDescendant(c,a))for(;a&&a!=c;a=a.parentNode)if(a._cssState){var e=y.getEnclosingWidget(a);e&&(a==e.domNode?e._cssMouseEvent(b):e._subnodeCssMouseEvent(a,a._cssState,b))}}var d=e.body(),h;m(d,a.over,function(b){f(b,b.target,b.relatedTarget)});m(d,a.out,function(b){f(b,b.target,b.relatedTarget)});
m(d,c.press,function(b){h=b.target;f(b,h)});m(d,c.release,function(b){f(b,h);h=null});m(d,"focusin, focusout",function(b){var a=b.target;if(a._cssState&&!a.getAttribute("widgetId")){var c=y.getEnclosingWidget(a);c&&c._subnodeCssMouseEvent(a,a._cssState,b)}})});return k})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(n,k,g,l,d,h,m,f){return k("dijit._KeyNavMixin",f,{tabIndex:"0",
childSelector:null,postCreate:function(){this.inherited(arguments);g.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var a=this._keyNavCodes={};a[l.HOME]=d.hitch(this,"focusFirstChild");a[l.END]=d.hitch(this,"focusLastChild");a[this.isLeftToRight()?l.LEFT_ARROW:l.RIGHT_ARROW]=d.hitch(this,"_onLeftArrow");a[this.isLeftToRight()?l.RIGHT_ARROW:l.LEFT_ARROW]=d.hitch(this,"_onRightArrow");a[l.UP_ARROW]=d.hitch(this,"_onUpArrow");a[l.DOWN_ARROW]=d.hitch(this,"_onDownArrow")}var e=this,
a="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(h(this.domNode,"keypress",d.hitch(this,"_onContainerKeypress")),h(this.domNode,"keydown",d.hitch(this,"_onContainerKeydown")),h(this.domNode,"focus",d.hitch(this,"_onContainerFocus")),h(this.containerNode,h.selector(a,"focusin"),function(a){e._onChildFocus(m.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},
_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,e){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(e?"end":"start"))},_onContainerFocus:function(a){a.target!==
this.domNode||this.focusedChild||this.focus()},_onFocus:function(){g.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){g.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",
this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,e,c,f){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,e){var c=a.domNode,c=(a.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,e.length).toLowerCase();return e.length&&c==e?-1:0},_isFormElement:function(a){return"INPUT"===a.tagName||"TEXTAREA"===a.tagName||"SELECT"===a.tagName||"BUTTON"===a.tagName},
_onContainerKeydown:function(a){if(!this._isFormElement(document.activeElement)){var e=this._keyNavCodes[a.keyCode];e?(e(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode==l.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))}},_onContainerKeypress:function(a){if(!this._isFormElement(document.activeElement)&&!(a.charCode<=l.SPACE||a.ctrlKey||a.altKey||a.metaKey))a.preventDefault(),
a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase())},_keyboardSearch:function(a,e){var c=null,f,s=0;d.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=e;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var d=this.focusedChild||null;if(1==a||!d)if(d=this._getNextFocusableChild(d,
1),!d)return;a=d;do{var b=this._keyboardSearchCompare(d,f);b&&0==s++&&(c=d);if(-1==b){s=-1;break}d=this._getNextFocusableChild(d,1)}while(d!=a)})();this.onKeyboardSearch(c,a,f,s)},_onChildBlur:function(){},_getNextFocusableChild:function(a,e){var c=a;do{if(a)a=this._getNext(a,e);else if(a=this[0<e?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(a,e){if(a)for(a=
a.domNode;a;)if((a=a[0>e?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=m.byNode(a);if(c)return c}return null}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(n,k,g,l,d,h,m,f){f.add("config-bgIframe",f("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||f("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var a=new function(){var a=[];this.pop=function(){var c;
a.length?(c=a.pop(),c.style.display=""):(9>f("ie")?(c="\x3ciframe src\x3d'"+(g.dojoBlankHtmlUrl||n.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=l.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),d.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(c){c.style.display=
"none";a.push(c)}};k.BackgroundIframe=function(e){if(!e.id)throw Error("no id");if(f("config-bgIframe")){var c=this.iframe=a.pop();e.appendChild(c);7>f("ie")||f("quirks")?(this.resize(e),this._conn=m(e,"resize",h.hitch(this,"resize",e))):d.set(c,{width:"100%",height:"100%"})}};h.extend(k.BackgroundIframe,{resize:function(a){this.iframe&&d.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),
a.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(n,k,g,l,d,h,m,f,a,e){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var c=this.getParent();this._childOfLayoutWidget=c&&c.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",h.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],e=!1;m("\x3e *",this.containerNode).some(function(d){var g=f.byNode(d);g&&g.resize?a.push(g):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(e=!0)});this._singleChild=1==a.length&&!e?a[0]:null;g.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},
resize:function(a,e){this._resizeCalled=!0;this._scheduleLayout(a,e)},_scheduleLayout:function(a,e){this._isShown()?this._layout(a,e):(this._needLayout=!0,this._changeSize=a,this._resultSize=e)},_layout:function(a,f){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&l.setMarginBox(this.domNode,a);var d=this.containerNode;if(d===this.domNode){var g=f||{};h.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=h.mixin(l.getMarginBox(d),g);this._contentBox=e.marginBox2contentBox(d,g)}else this._contentBox=
l.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||l.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),e,f=0;e=a[f++];)e.resize&&e.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,e=this.domNode.parentNode;
return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!g.contains(a,"dijitHidden")&&e&&e.style&&"none"!=e.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(n,k){var g={};n.setObject("dojo.date.stamp",g);g.fromISOString=function(l,d){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var h=g._isoRegExp.exec(l),m=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);d&&(d=new Date(d),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return d["get"+a]()}),function(a,c){h[c]=h[c]||a}));m=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&m.setFullYear(h[0]||1970);var f=0,a=h[7]&&h[7].charAt(0);"Z"!=a&&(f=60*(h[8]||0)+(Number(h[9])||0),"-"!=a&&(f*=-1));a&&(f-=m.getTimezoneOffset());f&&m.setTime(m.getTime()+6E4*
f)}return m};g.toISOString=function(g,d){var h=function(a){return 10>a?"0"+a:a};d=d||{};var k=[],f=d.zulu?"getUTC":"get",a="";"time"!=d.selector&&(a=g[f+"FullYear"](),a=["0000".substr((a+"").length)+a,h(g[f+"Month"]()+1),h(g[f+"Date"]())].join("-"));k.push(a);if("date"!=d.selector){a=[h(g[f+"Hours"]()),h(g[f+"Minutes"]()),h(g[f+"Seconds"]())].join(":");f=g[f+"Milliseconds"]();d.milliseconds&&(a+="."+(100>f?"0":"")+h(f));if(d.zulu)a+="Z";else if("time"!=d.selector)var f=g.getTimezoneOffset(),e=Math.abs(f),
a=a+((0<f?"-":"+")+h(Math.floor(e/60))+":"+h(e%60));k.push(a)}return k.join("T")};return g})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(n,k,g,l){return n("dijit.form.ToggleButton",[g,l],{baseClass:"dijitToggleButton",setChecked:function(d){k.deprecated("setChecked("+d+") is deprecated. Use set('checked',"+d+") instead.","","2.0");this.set("checked",d)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/has","../registry"],function(n,k,g,l){var d=n("dijit.form._ButtonMixin"+(g("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(d){d.stopPropagation();d.preventDefault();this.disabled||this.valueNode.click(d);return!1},_onClick:function(d){if(this.disabled)return d.stopPropagation(),d.preventDefault(),!1;!1===this.onClick(d)&&d.preventDefault();var g=d.defaultPrevented;if(!g&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=
f.parentNode){var a=l.byNode(f);if(a&&"function"==typeof a._onSubmit){a._onSubmit(d);d.preventDefault();g=!0;break}}return!g},postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(d){this._set("label",d);(this.containerNode||this.focusNode).innerHTML=d}});g("dojo-bidi")&&(d=n("dijit.form._ButtonMixin",d,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return d})},
"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(n,k,g,l,d,h,m){var f=0,a={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:h.empty,_setNodeContent:function(a,c){h.empty(a);if(c)if("string"==typeof c&&(c=h.toDom(c,a.ownerDocument)),!c.nodeType&&k.isArrayLike(c))for(var f=c.length,d=0;d<c.length;d=f==c.length?d+1:0)h.place(c[d],a,"last");
else h.place(c,a,"last");return a},_ContentSetter:l("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:n._scopeName,startup:!0,constructor:function(a,c){k.mixin(this,a||{});c=this.node=d.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",f++].join("_"))},set:function(a,c){void 0!==a&&(this.content=a);c&&this._mixin(c);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var e=
this.node;if(!e)throw Error(this.declaredClass+": setContent given no node");try{e=a._setNodeContent(e,this.content)}catch(c){var d=this.onContentError(c);try{e.innerHTML=d}catch(f){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+f.message,f)}}this.node=e},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(g.forEach(this.parseResults,function(a){a.destroy&&
a.destroy()}),delete this.parseResults);h.empty(this.node)},onBegin:function(){var e=this.content;if(k.isString(e)&&(this.cleanContent&&(e=a._secureForInnerHtml(e)),this.extractContent)){var c=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(e=c[1])}this.empty();this.content=e;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+
a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var c={},d;for(d in a)d in c||(this[d]=a[d])},_parse:function(){var a=this.node;try{var c={};g.forEach(["dir","lang","textDir"],function(a){this[a]&&(c[a]=this[a])},this);var d=this;this.parseDeferred=m.parse({rootNode:a,noStart:!this.startup,inherited:c,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(f){this._onError("Content",
f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(e,c,d){e=this["on"+e+"Error"].call(this,c);d?console.error(d,c):e&&a._setNodeContent(this.node,e,!0)}}),set:function(e,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");return d?(new a._ContentSetter(k.mixin(d,{content:c,node:e}))).set():a._setNodeContent(e,c,!0)}};k.setObject("dojo.html",a);return a})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(n,k,g,l,d,h,m,f,a,e){return k("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);g.set(this.focusNode,"disabled",a);this.valueNode&&g.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",
!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",n.forEach(d.isArray(a)?a:[a],function(a){a=this[a];f("webkit")||e.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(c){if("mouse"==c&&this.isFocusable())var e=this.own(m(this.focusNode,"focus",function(){k.remove();e.remove()}))[0],g=f("pointer-events")?"pointerup":
f("MSPointer")?"MSPointerUp":f("touch-events")?"touchend, mouseup":"mouseup",k=this.own(m(this.ownerDocumentBody,g,d.hitch(this,function(a){k.remove();e.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){a.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=l.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,e){return"number"==typeof a&&"number"==typeof e?isNaN(a)&&isNaN(e)?0:a-e:a>e?1:a<e?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,e){if(void 0==this._lastValueReported&&(null===e||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||e||void 0===e)&&this._pendingOnChange)this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(n,k,g,l,d,h,m,f,a){var e=d.delegate(f,{mouseenter:h.enter,mouseleave:h.leave,keypress:g._keypress}),c;g=l("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var c=a;;)if(1==c.nodeType&&(this._processTemplateNode(c,function(a,c){return a.getAttribute(c)},this._attach)||
this.searchContainerNode)&&c.firstChild)c=c.firstChild;else{if(c==a)break;for(;!c.nextSibling;)if(c=c.parentNode,c==a)return;c=c.nextSibling}},_processTemplateNode:function(a,c,e){var f=!0,b=this.attachScope||this,q=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(q)for(var g=q.split(/\s*,\s*/);q=g.shift();)d.isArray(b[q])?b[q].push(a):b[q]=a,f="containerNode"!=q,this._attachPoints.push(q);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){q=c.split(/\s*,\s*/);for(g=d.trim;c=q.shift();)if(c){var k=
null;-1!=c.indexOf(":")?(k=c.split(":"),c=g(k[0]),k=g(k[1])):c=g(c);k||(k=c);this._attachEvents.push(e(a,c,d.hitch(b,k)))}}return f},_attach:function(a,d,f){d=d.replace(/^on/,"").toLowerCase();d="dijitclick"==d?c||(c=n("./a11yclick")):e[d]||d;return m(a,d,f)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(c){delete a[c]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});d.extend(a,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(n,k,g,l,d,h,m){function f(a,c,f,l){var m=h.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&d.body(a.ownerDocument).appendChild(a);var r=null;n.some(c,function(b){var c=b.corner,d=b.pos,q=0,g={w:{L:m.l+
m.w-d.x,R:d.x-m.l,M:m.w}[c.charAt(1)],h:{T:m.t+m.h-d.y,B:d.y-m.t,M:m.h}[c.charAt(0)]},p=a.style;p.left=p.right="auto";f&&(q=f(a,b.aroundCorner,c,g,l),q="undefined"==typeof q?0:q);var x=a.style,h=x.display,n=x.visibility;"none"==x.display&&(x.visibility="hidden",x.display="");p=k.position(a);x.display=h;x.visibility=n;h={L:d.x,R:d.x-p.w,M:Math.max(m.l,Math.min(m.l+m.w,d.x+(p.w>>1))-p.w)}[c.charAt(1)];n={T:d.y,B:d.y-p.h,M:Math.max(m.t,Math.min(m.t+m.h,d.y+(p.h>>1))-p.h)}[c.charAt(0)];d=Math.max(m.l,
h);x=Math.max(m.t,n);h=Math.min(m.l+m.w,h+p.w);n=Math.min(m.t+m.h,n+p.h);h-=d;n-=x;q+=p.w-h+(p.h-n);if(null==r||q<r.overflow)r={corner:c,aroundCorner:b.aroundCorner,x:d,y:x,w:h,h:n,overflow:q,spaceAvailable:g};return!q});r.overflow&&f&&f(a,r.aroundCorner,r.corner,r.spaceAvailable,l);c=r.y;var b=r.x,q=d.body(a.ownerDocument);/relative|absolute/.test(g.get(q,"position"))&&(c-=g.get(q,"marginTop"),b-=g.get(q,"marginLeft"));q=a.style;q.top=c+"px";q.left=b+"px";q.right="auto";return r}var a={TL:"BR",TR:"BL",
BL:"TR",BR:"TL"};return m.place={at:function(e,c,d,g,k){d=n.map(d,function(e){var b={corner:e,aroundCorner:a[e],pos:{x:c.x,y:c.y}};g&&(b.pos.x+="L"==e.charAt(1)?g.x:-g.x,b.pos.y+="T"==e.charAt(0)?g.y:-g.y);return b});return f(e,d,k)},around:function(a,c,d,h,m){function r(b,a){C.push({aroundCorner:b,corner:a,pos:{x:{L:t,R:t+x,M:t+(x>>1)}[b.charAt(1)],y:{T:p,B:p+H,M:p+(H>>1)}[b.charAt(0)]}})}var b;if("string"==typeof c||"offsetWidth"in c||"ownerSVGElement"in c){if(b=k.position(c,!0),/^(above|below)/.test(d[0])){var q=
k.getBorderExtents(c),A=c.firstChild?k.getBorderExtents(c.firstChild):{t:0,l:0,b:0,r:0},z=k.getBorderExtents(a),u=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};b.y+=Math.min(q.t+A.t,z.t+u.t);b.h-=Math.min(q.t+A.t,z.t+u.t)+Math.min(q.b+A.b,z.b+u.b)}}else b=c;if(c.parentNode){q="absolute"==g.getComputedStyle(c).position;for(c=c.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){A=k.position(c,!0);z=g.getComputedStyle(c);/relative|absolute/.test(z.position)&&(q=!1);if(!q&&/hidden|auto|scroll/.test(z.overflow)){var u=
Math.min(b.y+b.h,A.y+A.h),w=Math.min(b.x+b.w,A.x+A.w);b.x=Math.max(b.x,A.x);b.y=Math.max(b.y,A.y);b.h=u-b.y;b.w=w-b.x}"absolute"==z.position&&(q=!0);c=c.parentNode}}var t=b.x,p=b.y,x="w"in b?b.w:b.w=b.width,H="h"in b?b.h:(l.deprecated("place.around: dijit/place.__Rectangle: { x:"+t+", y:"+p+", height:"+b.height+", width:"+x+" } has been deprecated.  Please use { x:"+t+", y:"+p+", h:"+b.height+", w:"+x+" }","","2.0"),b.h=b.height),C=[];n.forEach(d,function(b){var a=h;switch(b){case "above-centered":r("TM",
"BM");break;case "below-centered":r("BM","TM");break;case "after-centered":a=!a;case "before-centered":r(a?"ML":"MR",a?"MR":"ML");break;case "after":a=!a;case "before":r(a?"TL":"TR",a?"TR":"TL");r(a?"BL":"BR",a?"BR":"BL");break;case "below-alt":a=!a;case "below":r(a?"BL":"BR",a?"TL":"TR");r(a?"BR":"BL",a?"TR":"TL");break;case "above-alt":a=!a;case "above":r(a?"TL":"TR",a?"BL":"BR");r(a?"TR":"TL",a?"BR":"BL");break;default:r(b.aroundCorner,b.corner)}});a=f(a,C,m,{w:x,h:H});a.aroundNodePos=b;return a}}})},
"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),function(n,k,g,l,d,h,m,f,a,e){return k("dijit._KeyNavContainer",[a,e,f],{connectKeyNavHandlers:function(a,e){var f=this._keyNavCodes={},g=h.hitch(this,"focusPrev"),k=h.hitch(this,"focusNext");n.forEach(a,function(a){f[a]=g});n.forEach(e,function(a){f[a]=k});f[d.HOME]=h.hitch(this,"focusFirstChild");
f[d.END]=h.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){l.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);n.forEach(this.getChildren(),h.hitch(this,"_startupChild"))},addChild:function(a,e){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?
a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=m.byNode(a))&&a.getParent()==this}})})},"esri/tasks/LengthsParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel".split(" "),function(n,k,g,l,d,h){n=n(null,{declaredClass:"esri.tasks.LengthsParameters",
polylines:null,lengthUnit:null,geodesic:null,calculationType:null,toJson:function(){var d=g.map(this.polylines,function(a){return a.toJson()}),f={};f.polylines=l.toJson(d);d=this.polylines[0].spatialReference;f.sr=d.wkid?d.wkid:l.toJson(d.toJson());this.lengthUnit&&(f.lengthUnit=this.lengthUnit);this.geodesic&&(f.geodesic=this.geodesic);this.calculationType&&(f.calculationType=this.calculationType);return f}});d("extend-esri")&&k.setObject("tasks.LengthsParameters",n,h);return n})},"dojo/debounce":function(){define([],
function(){return function(n,k){var g;return function(){g&&clearTimeout(g);var l=this,d=arguments;g=setTimeout(function(){n.apply(l,d)},k)}}})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(n,k,g,l,d,h,m,f,a,e){l("dijit-legacy-requires")&&m(0,function(){n(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});
m=k("dijit.form.Button"+(l("dojo-bidi")?"_NoBidi":""),[f,a],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:e,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=h.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",
!a);this._set("showLabel",a)},setLabel:function(a){d.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});l("dojo-bidi")&&(m=k("dijit.form.Button",m,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,
this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return m})},"esri/tasks/Task":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../deferredUtils ../urlUtils ../Evented".split(" "),function(n,k,g,l,d,h,m,f){n=n(f,{declaredClass:"esri.tasks._Task",_eventMap:{error:["error"],complete:["result"]},constructor:function(a,e){a&&k.isString(a)&&(this._url=m.urlToObject(this.url=
a));e&&e.requestOptions&&(this.requestOptions=e.requestOptions);this.normalization=!0;this._errorHandler=k.hitch(this,this._errorHandler);this.registerConnectEvents()},_useSSL:function(){var a=this._url,e=/^http:/i;this.url&&(this.url=this.url.replace(e,"https:"));a&&a.path&&(a.path=a.path.replace(e,"https:"))},_encode:function(a,e,c){var d,f,h={},l,b;for(l in a)if("declaredClass"!==l&&(d=a[l],f=typeof d,null!==d&&void 0!==d&&"function"!==f))if(k.isArray(d)){h[l]=[];b=d.length;for(f=0;f<b;f++)h[l][f]=
this._encode(d[f])}else"object"===f?d.toJson&&(f=d.toJson(c&&c[l]),"esri.tasks.FeatureSet"===d.declaredClass&&f.spatialReference&&(f.sr=f.spatialReference,delete f.spatialReference),h[l]=e?f:g.toJson(f)):h[l]=d;return h},_successHandler:function(a,d,c,f){d&&this[d].apply(this,a);c&&c.apply(null,a);f&&h._resDfd(f,a)},_errorHandler:function(a,d,c){this.onError(a);d&&d(a);c&&c.errback(a)},setNormalization:function(a){this.normalization=a},onError:function(){}});l("extend-esri")&&(d.Task=n);return n})},
"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(n,k,g,l,d,h){n=l("dijit._OnDijitClickMixin",null,{connect:function(d,f,a){return this.inherited(arguments,[d,"ondijitclick"==f?h:f,a])}});n.a11yclick=h;return n})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(n,k,g,l){function d(d){if((d.keyCode===n.ENTER||d.keyCode===n.SPACE)&&!/input|button|textarea/i.test(d.target.nodeName))for(d=
d.target;d;d=d.parentNode)if(d.dojoClick)return!0}var h;g(document,"keydown",function(f){d(f)?(h=f.target,f.preventDefault()):h=null});g(document,"keyup",function(f){d(f)&&f.target==h&&(h=null,g.emit(f.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:f.ctrlKey,shiftKey:f.shiftKey,metaKey:f.metaKey,altKey:f.altKey,_origType:f.type}))});var m=function(d,a){d.dojoClick=!0;return g(d,"click",a)};m.click=m;m.press=function(d,a){var e=g(d,l.press,function(c){("mousedown"!=c.type||k.isLeft(c))&&a(c)}),c=
g(d,"keydown",function(c){(c.keyCode===n.ENTER||c.keyCode===n.SPACE)&&a(c)});return{remove:function(){e.remove();c.remove()}}};m.release=function(d,a){var e=g(d,l.release,function(c){("mouseup"!=c.type||k.isLeft(c))&&a(c)}),c=g(d,"keyup",function(c){(c.keyCode===n.ENTER||c.keyCode===n.SPACE)&&a(c)});return{remove:function(){e.remove();c.remove()}}};m.move=l.move;return m})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(n,k,g,l){g(function(){k("highcontrast")&&
n.add(l.body(),"dijit_a11y")});return k})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(n,k,g,l,d,h,m,f){var a=k("dijit._TemplatedMixin",f,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,d=this;return m.substitute(a,this,function(a,e){"!"==e.charAt(0)&&(a=l.getObject(e.substr(1),!1,d));if("undefined"==
typeof a)throw Error(c+" template:"+e);return null==a?"":"!"==e.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=n(this.templatePath,{sanitize:!0}));var d=a.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(l.isString(d)){if(c=
g.toDom(this._stringRepl(d),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+d);}else c=d.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});a._templateCache={};a.getCachedTemplate=function(d,c,f){var k=a._templateCache,h=d,l=k[h];if(l){try{if(!l.ownerDocument||l.ownerDocument==(f||document))return l}catch(b){}g.destroy(l)}d=
m.trim(d);if(c||d.match(/\$\{([^\}]+)\}/g))return k[h]=d;c=g.toDom(d,f);if(1!=c.nodeType)throw Error("Invalid template: "+d);return k[h]=c};h("ie")&&d(window,"unload",function(){var d=a._templateCache,c;for(c in d){var f=d[c];"object"==typeof f&&g.destroy(f);delete d[c]}});return a})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(n,k,g,l,d,h,m,f){k("dijit-legacy-requires")&&
l(0,function(){require(["dijit/form/_FormValueWidget"])});return n("dijit.form._FormWidget",[d,m,h,f],{setDisabled:function(a){g.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){g.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){g.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!k("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b){return n("dijit._HasDropDown",
b,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(c.once(this.ownerDocument,y.release,e.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var b=this.dropDown,c=!1;if(a&&this._opened){var e=
h.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!c;)d.contains(e,"dijitPopup")?c=!0:e=e.parentNode;if(c){e=a.target;if(b.onItemClick){for(var f;e&&!(f=s.byNode(e));)e=e.parentNode;if(f&&f.onClick&&f.getParent)f.getParent().onItemClick(f,a)}return}}}if(this._opened){if(b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=this.defer(function(){b.focus();delete this._focusDropDownTimer})}else this.focus&&
this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||
"Down";d.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(c(this._buttonNode,y.press,e.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",e.hitch(this,"_onDropDownClick")),c(a,"keydown",e.hitch(this,"_onKey")),c(a,"keyup",e.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(b))b.stopPropagation(),b.preventDefault();else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),b.stopPropagation(),b.preventDefault();else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE&&(!this._searchTimer||b.ctrlKey||b.altKey||b.metaKey))&&("input"!==(d.tagName||
"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,b.stopPropagation(),b.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(e.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new k,b=e.hitch(this,function(){this.openDropDown();
a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,b=a.domNode,c=this._aroundNode||this.domNode,f=this,g=r.open({parent:this,popup:a,around:c,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){f.closeDropDown(!0)},onCancel:function(){f.closeDropDown(!0)},onClose:function(){l.set(f._popupStateNode,
"popupActive",!1);d.remove(f._popupStateNode,"dijitHasDropDownOpen");f._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&c.offsetWidth>a._popupWrapper.offsetWidth){var c=c.offsetWidth-a._popupWrapper.offsetWidth,k={w:a.domNode.offsetWidth+c};e.isFunction(a.resize)?a.resize(k):h.setMarginBox(b,k);"R"==g.corner[1]&&(a._popupWrapper.style.left=a._popupWrapper.style.left.replace("px","")-c+"px")}l.set(this._popupStateNode,"popupActive","true");d.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==b.getAttribute("role")&&!b.getAttribute("aria-labelledby")&&b.setAttribute("aria-labelledby",this.id);return g},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),r.close(this.dropDown),
this._opened=!1)}})})},"esri/tasks/GeometryService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/has ../kernel ../request ../deferredUtils ./Task ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/jsonUtils".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r){n=n(e,{declaredClass:"esri.tasks.GeometryService",_eventMap:{"areas-and-lengths-complete":["result"],"auto-complete-complete":["geometries"],
"buffer-complete":["geometries"],"convex-hull-complete":["geometry"],"cut-complete":["result"],"densify-complete":["geometries"],"difference-complete":["geometries"],"distance-complete":["distance"],"generalize-complete":["geometries"],"intersect-complete":["geometries"],"label-points-complete":["geometries"],"lengths-complete":["result"],"offset-complete":["geometries"],"project-complete":["geometries"],"relation-complete":["relations"],"reshape-complete":["geometry"],"simplify-complete":["geometries"],
"trim-extend-complete":["geometries"],"union-complete":["geometry"]},constructor:function(a){a=k.hitch;this._projectHandler=a(this,this._projectHandler);this._simplifyHandler=a(this,this._simplifyHandler);this._bufferHandler=a(this,this._bufferHandler);this._areasAndLengthsHandler=a(this,this._areasAndLengthsHandler);this._lengthsHandler=a(this,this._lengthsHandler);this._labelPointsHandler=a(this,this._labelPointsHandler);this._relationHandler=a(this,this._relationHandler);this._convexHullHandler=
a(this,this._convexHullHandler);this._unionHandler=a(this,this._unionHandler);this._autoCompleteHandler=a(this,this._autoCompleteHandler);this._reshapeHandler=a(this,this._reshapeHandler);this._cutHandler=a(this,this._cutHandler);this._intersectHandler=a(this,this._intersectHandler);this._differenceHandler=a(this,this._differenceHandler);this._trimExtendHandler=a(this,this._trimExtendHandler);this._densifyHandler=a(this,this._densifyHandler);this._generalizeHandler=a(this,this._densifyHandler);this._offsetHandler=
a(this,this._offsetHandler);this._distanceHandler=a(this,this._distanceHandler);this._toGeoCoordinateHandler=a(this,this._toGeoCoordinateHandler);this._fromGeoCoordinateHandler=a(this,this._fromGeoCoordinateHandler);this.registerConnectEvents()},_encodeGeometries:function(a){var c=[],d,e=a.length;for(d=0;d<e;d++)c.push(a[d].toJson());return{geometryType:r.getJsonType(a[0]),geometries:c}},_decodeGeometries:function(a,c,d){var e=r.getGeometryType(c);a=a.geometries;var f=[],h={spatialReference:d.toJson()},
l=k.mixin;g.forEach(a,function(a,b){f[b]=new e(l(a,h))});return f},_toProjectGeometry:function(a){var d=a.spatialReference.toJson();return a instanceof c?new s({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:d}):new y({paths:[[].concat(a.points)],spatialReference:d})},_fromProjectedGeometry:function(a,d,e){return"esriGeometryEnvelope"===d?(a=a.rings[0],new c(a[0][0],a[0][1],a[2][0],a[2][1],e)):new v({points:a.paths[0],spatialReference:e.toJson()})},
project:function(b,c,e,g){var h=k.mixin({},this._url.query,{f:"json"}),m;b.geometries?(g=e,e=c,c=b.outSR,m=b.geometries[0],h=k.mixin(h,b.toJson())):(m=b[0],h=k.mixin(h,{outSR:c.wkid||l.toJson(c.toJson()),inSR:m.spatialReference.wkid||l.toJson(m.spatialReference.toJson()),geometries:l.toJson(this._encodeGeometries(b))}));var t=r.getJsonType(m),p=this._projectHandler,x=this._errorHandler,n=new d(a._dfdCanceller);n._pendingDfd=f({url:this._url.path+"/project",content:h,callbackParamName:"callback",load:function(a,
b){p(a,b,t,c,e,g,n)},error:function(a){x(a,g,n)}});return n},_projectHandler:function(a,c,d,e,f,g,k){try{var p=this._decodeGeometries(a,d,e);this._successHandler([p],"onProjectComplete",f,k)}catch(h){this._errorHandler(h,g,k)}},onProjectComplete:function(){},simplify:function(b,c,e){var g=b[0].spatialReference,h=k.mixin({},this._url.query,{f:"json",sr:g.wkid?g.wkid:l.toJson(g.toJson()),geometries:l.toJson(this._encodeGeometries(b))}),m=r.getJsonType(b[0]),t=this._simplifyHandler,p=this._errorHandler,
x=new d(a._dfdCanceller);x._pendingDfd=f({url:this._url.path+"/simplify",content:h,callbackParamName:"callback",load:function(a,b){t(a,b,m,g,c,e,x)},error:function(a){p(a,e,x)}});return x},_simplifyHandler:function(a,c,d,e,f,g,k){try{var p=this._decodeGeometries(a,d,e);this._successHandler([p],"onSimplifyComplete",f,k)}catch(h){this._errorHandler(h,g,k)}},onSimplifyComplete:function(){},convexHull:function(b,c,e){var g=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(g.toJson()),
geometries:l.toJson(this._encodeGeometries(b))});var h=this._convexHullHandler,m=this._errorHandler,t=new d(a._dfdCanceller);t._pendingDfd=f({url:this._url.path+"/convexHull",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,g,c,e,t)},error:function(a){m(a,e,t)}});return t},_convexHullHandler:function(a,c,d,e,f,g){try{var h=r.fromJson(a.geometry).setSpatialReference(d);this._successHandler([h],"onConvexHullComplete",e,g)}catch(p){this._errorHandler(p,f,g)}},onConvexHullComplete:function(){},
union:function(b,c,e){var g=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(g.toJson()),geometries:l.toJson(this._encodeGeometries(b))});var h=this._unionHandler,m=this._errorHandler,t=new d(a._dfdCanceller);t._pendingDfd=f({url:this._url.path+"/union",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,g,c,e,t)},error:function(a){m(a,e,t)}});return t},_unionHandler:function(a,c,d,e,f,g){try{var h=r.fromJson(a.geometry).setSpatialReference(d);this._successHandler([h],
"onUnionComplete",e,g)}catch(p){this._errorHandler(p,f,g)}},onUnionComplete:function(){},autoComplete:function(b,c,e,g){var h=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),polygons:l.toJson(this._encodeGeometries(b).geometries),polylines:l.toJson(this._encodeGeometries(c).geometries)});var m=this._autoCompleteHandler,t=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/autoComplete",content:b,callbackParamName:"callback",load:function(a,
b){m(a,b,h,e,g,p)},error:function(a){t(a,g,p)}});return p},_autoCompleteHandler:function(a,c,d,e,f,g){try{var h=a.geometries;a=[];var p,k=h.length;for(p=0;p<k;p++)a[p]=new s({spatialReference:d,rings:h[p].rings});this._successHandler([a],"onAutoCompleteComplete",e,g)}catch(l){this._errorHandler(l,f,g)}},onAutoCompleteComplete:function(){},reshape:function(b,c,e,g){var h=b.spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),target:l.toJson({geometryType:r.getJsonType(b),
geometry:b.toJson()}),reshaper:l.toJson(c.toJson())});var m=this._reshapeHandler,t=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/reshape",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,e,g,p)},error:function(a){t(a,g,p)}});return p},_reshapeHandler:function(a,c,d,e,f,g){try{var h=r.fromJson(a.geometry).setSpatialReference(d);this._successHandler([h],"onReshapeComplete",e,g)}catch(p){this._errorHandler(p,f,g)}},onReshapeComplete:function(){},cut:function(b,
c,e,h){var m=b[0].spatialReference,n=g.map(b,function(a){return a.toJson()});b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(m.toJson()),target:l.toJson({geometryType:r.getJsonType(b[0]),geometries:n}),cutter:l.toJson(c.toJson())});var t=this._cutHandler,p=this._errorHandler,x=new d(a._dfdCanceller);x._pendingDfd=f({url:this._url.path+"/cut",content:b,callbackParamName:"callback",load:function(a,b){t(a,b,m,e,h,x)},error:function(a){p(a,h,x)}});return x},_cutHandler:function(a,c,d,e,f,h){try{var k=
a.geometries,p={};p.cutIndexes=a.cutIndexes;p.geometries=[];g.forEach(k,function(a){p.geometries.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([p],"onCutComplete",e,h)}catch(l){this._errorHandler(l,f,h)}},onCutComplete:function(){},intersect:function(b,c,e,g){var h=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),geometries:l.toJson(this._encodeGeometries(b)),geometry:l.toJson({geometryType:r.getJsonType(c),geometry:c.toJson()})});var m=this._intersectHandler,
t=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/intersect",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,e,g,p)},error:function(a){t(a,g,p)}});return p},_intersectHandler:function(a,c,d,e,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([k],"onIntersectComplete",e,h)}catch(p){this._errorHandler(p,f,h)}},onIntersectComplete:function(){},difference:function(b,c,e,g){var h=
b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),geometries:l.toJson(this._encodeGeometries(b)),geometry:l.toJson({geometryType:r.getJsonType(c),geometry:c.toJson()})});var m=this._differenceHandler,t=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/difference",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,e,g,p)},error:function(a){t(a,g,p)}});return p},_differenceHandler:function(a,c,d,e,f,h){try{var k=[];g.forEach(a.geometries,
function(a){k.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([k],"onDifferenceComplete",e,h)}catch(p){this._errorHandler(p,f,h)}},onDifferenceComplete:function(){},buffer:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.outSpatialReference||b.geometries[0].spatialReference,l=this._bufferHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/buffer",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,
e,p)},error:function(a){m(a,e,p)}});return p},_bufferHandler:function(a,c,d,e,f,g){try{var h=a.geometries;a=[];var p,k=h.length;for(p=0;p<k;p++)a[p]=new s({spatialReference:d,rings:h[p].rings});this._successHandler([a],"onBufferComplete",e,g)}catch(l){this._errorHandler(l,f,g)}},onBufferComplete:function(){},areasAndLengths:function(b,c,e){b=k.mixin({},this._url.query,{f:"json"},b.toJson());var g=this._areasAndLengthsHandler,h=this._errorHandler,l=new d(a._dfdCanceller);l._pendingDfd=f({url:this._url.path+
"/areasAndLengths",content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,e,l)},error:function(a){h(a,e,l)}});return l},_areasAndLengthsHandler:function(a,c,d,e,f){try{this._successHandler([a],"onAreasAndLengthsComplete",d,f)}catch(g){this._errorHandler(g,e,f)}},onAreasAndLengthsComplete:function(){},lengths:function(b,c,e){b=k.mixin({},this._url.query,{f:"json"},b.toJson());var g=this._lengthsHandler,h=this._errorHandler,l=new d(a._dfdCanceller);l._pendingDfd=f({url:this._url.path+"/lengths",
content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,e,l)},error:function(a){h(a,e,l)}});return l},_lengthsHandler:function(a,c,d,e,f){try{this._successHandler([a],"onLengthsComplete",d,f)}catch(g){this._errorHandler(g,e,f)}},onLengthsComplete:function(){},labelPoints:function(b,c,e){var h=g.map(b,function(a){return a.toJson()}),m=b[0].spatialReference,h=k.mixin({},this._url.query,{f:"json",sr:m.wkid?m.wkid:l.toJson(m.toJson()),polygons:l.toJson(h)}),n=this._labelPointsHandler,t=this._errorHandler,
p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/labelPoints",content:h,callbackParamName:"callback",load:function(a,d){n(a,d,b,m,c,e,p)},error:function(a){t(a,e,p)}});return p},_labelPointsHandler:function(a,c,d,e,f,h,k){try{var p=[];g.forEach(a.labelPoints,function(a){p.push(r.fromJson(a).setSpatialReference(e))});this._successHandler([p],"onLabelPointsComplete",f,k)}catch(l){this._errorHandler(l,h,k)}},onLabelPointsComplete:function(){},relation:function(b,c,e){b=k.mixin({},this._url.query,
{f:"json"},b.toJson());var g=this._relationHandler,h=this._errorHandler,l=new d(a._dfdCanceller);l._pendingDfd=f({url:this._url.path+"/relation",content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,e,l)},error:function(a){h(a,e,l)}});return l},_relationHandler:function(a,c,d,e,f){try{this._successHandler([a.relations],"onRelationComplete",d,f)}catch(g){this._errorHandler(g,e,f)}},onRelationComplete:function(){},trimExtend:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),
h=b.sr,l=this._trimExtendHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/trimExtend",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,e,p)},error:function(a){m(a,e,p)}});return p},_trimExtendHandler:function(a,c,d,e,f,g){try{var h=a.geometries;a=[];var k,l=h.length;for(k=0;k<l;k++)a[k]=new y({spatialReference:d,paths:h[k].paths});this._successHandler([a],"onTrimExtendComplete",e,g)}catch(m){this._errorHandler(m,f,g)}},onTrimExtendComplete:function(){},
densify:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._densifyHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/densify",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,e,p)},error:function(a){m(a,e,p)}});return p},_densifyHandler:function(a,c,d,e,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([k],
"onDensifyComplete",e,h)}catch(l){this._errorHandler(l,f,h)}},onDensifyComplete:function(){},generalize:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._generalizeHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/generalize",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,e,p)},error:function(a){m(a,e,p)}});return p},_generalizeHandler:function(a,c,d,e,f,h){try{var k=[];
g.forEach(a.geometries,function(a){k.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([k],"onGeneralizeComplete",e,h)}catch(l){this._errorHandler(l,f,h)}},onGeneralizeComplete:function(){},offset:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._offsetHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+"/offset",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,
e,p)},error:function(a){m(a,e,p)}});return p},_offsetHandler:function(a,c,d,e,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(r.fromJson(a).setSpatialReference(d))});this._successHandler([k],"onOffsetComplete",e,h)}catch(l){this._errorHandler(l,f,h)}},onOffsetComplete:function(){},distance:function(b,c,e){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometry1.spatialReference,l=this._distanceHandler,m=this._errorHandler,p=new d(a._dfdCanceller);p._pendingDfd=f({url:this._url.path+
"/distance",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,e,p)},error:function(a){m(a,e,p)}});return p},_distanceHandler:function(a,c,d,e,f,g){try{a=a&&a.distance,this._successHandler([a],"onDistanceComplete",e,g)}catch(h){this._errorHandler(h,f,g)}},onDistanceComplete:function(){},toGeoCoordinateString:function(b,c,e){var g={};k.isObject(b.sr)?g.sr=b.sr.wkid||l.toJson(b.sr.toJson()):g.sr=b.sr;g.coordinates=l.toJson(b.coordinates);g.conversionType=b.conversionType||"MGRS";g.conversionMode=
b.conversionMode;g.numOfDigits=b.numOfDigits;g.rounding=b.rounding;g.addSpaces=b.addSpaces;b=k.mixin({},this._url.query,{f:"json"},g);var h=this._toGeoCoordinateHandler,m=this._errorHandler,n=new d(a._dfdCanceller);n._pendingDfd=f({url:this._url.path+"/toGeoCoordinateString",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,c,e,n)},error:function(a){m(a,e,n)}});return n},_toGeoCoordinateHandler:function(a,c,d,e,f){try{this._successHandler([a.strings],"onToGeoCoordinateStringComplete",
d,f)}catch(g){this._errorHandler(g,e,f)}},onToGeoCoordinateStringComplete:function(){},fromGeoCoordinateString:function(b,c,e){var g={};k.isObject(b.sr)?g.sr=b.sr.wkid||l.toJson(b.sr.toJson()):g.sr=b.sr;g.strings=l.toJson(b.strings);g.conversionType=b.conversionType||"MGRS";g.conversionMode=b.conversionMode;b=k.mixin({},this._url.query,{f:"json"},g);var h=this._fromGeoCoordinateHandler,m=this._errorHandler,n=new d(a._dfdCanceller);n._pendingDfd=f({url:this._url.path+"/fromGeoCoordinateString",content:b,
callbackParamName:"callback",load:function(a,b){h(a,b,c,e,n)},error:function(a){m(a,e,n)}});return n},_fromGeoCoordinateHandler:function(a,c,d,e,f){try{this._successHandler([a.coordinates],"onToGeoCoordinateStringComplete",d,f)}catch(g){this._errorHandler(g,e,f)}},onFromGeoCoordinateStringComplete:function(){}});k.mixin(n,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,
UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,
UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,
UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",
UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});h("extend-esri")&&k.setObject("tasks.GeometryService",n,m);return n})},"esri/tasks/AreasAndLengthsParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel".split(" "),function(n,k,g,l,d,h){n=n(null,{declaredClass:"esri.tasks.AreasAndLengthsParameters",
polygons:null,lengthUnit:null,areaUnit:null,calculationType:null,toJson:function(){var d=g.map(this.polygons,function(a){return a.toJson()}),f={};f.polygons=l.toJson(d);d=this.polygons[0].spatialReference;f.sr=d.wkid?d.wkid:l.toJson(d.toJson());this.lengthUnit&&(f.lengthUnit=this.lengthUnit);this.areaUnit&&(k.isString(this.areaUnit)?f.areaUnit=l.toJson({areaUnit:this.areaUnit}):f.areaUnit=this.areaUnit);this.calculationType&&(f.calculationType=this.calculationType);return f}});d("extend-esri")&&k.setObject("tasks.AreasAndLengthsParameters",
n,h);return n})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b){function q(a){return eval("("+a+")")}function A(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=u}return b}function z(a,
b){var c=a.join();if(!w[c]){for(var d=[],e=0,f=a.length;e<f;e++){var h=a[e];d[d.length]=w[h]=w[h]||g.getObject(h)||~h.indexOf("/")&&(b?b(h):n(h))}e=d.shift();w[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return w[c]}new Date("X");var u=0;a.after(g,"extend",function(){u++},!0);var w={},t={_clearCache:function(){u++;w={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&
f.length&&l.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||k._scopeName)+"Type",e="data-"+(c.scope||k._scopeName)+"-",f=e+"type",g=e+"mixins",h=[];l.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];h.push({node:a,types:c})}});return this._instantiate(h,b,c)},_instantiate:function(a,b,
c,d){function f(a){!b._started&&!c.noStart&&l.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=l.map(a,function(a){var d=a.ctor||z(a.types,c.contextRequire);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);return d?e(a).then(f):f(a)},construct:function(b,d,e,h,m,n){function t(b){O&&g.setObject(O,b);for(E=0;E<K.length;E++)a[K[E].advice||"after"](b,K[E].method,g.hitch(b,
K[E].func),!0);for(E=0;E<R.length;E++)R[E].call(b);for(E=0;E<P.length;E++)b.watch(P[E].prop,P[E].func);for(E=0;E<Q.length;E++)r(b,Q[E].event,Q[E].func);return b}var u=b&&b.prototype;h=h||{};var w={};h.defaults&&g.mixin(w,h.defaults);n&&g.mixin(w,n);var y;s("dom-attributes-explicit")?y=d.attributes:s("dom-attributes-specified-flag")?y=l.filter(d.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,
"").replace(/\s*>.*$/,""),y=l.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var z=h.scope||k._scopeName;n="data-"+z+"-";var B={};"dojo"!==z&&(B[n+"props"]="data-dojo-props",B[n+"type"]="data-dojo-type",B[n+"mixins"]="data-dojo-mixins",B[z+"type"]="dojoType",B[n+"id"]="data-dojo-id");for(var E=0,D,z=[],O,L;D=y[E++];){var F=D.name,G=F.toLowerCase();D=D.value;switch(B[G]||G){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;
case "data-dojo-props":L=D;break;case "data-dojo-id":case "jsid":O=D;break;case "data-dojo-attach-point":case "dojoattachpoint":w.dojoAttachPoint=D;break;case "data-dojo-attach-event":case "dojoattachevent":w.dojoAttachEvent=D;break;case "class":w["class"]=d.className;break;case "style":w.style=d.style&&d.style.cssText;break;default:if(F in u||(F=A(b)[G]||F),F in u)switch(typeof u[F]){case "string":w[F]=D;break;case "number":w[F]=D.length?Number(D):NaN;break;case "boolean":w[F]="false"!=D.toLowerCase();
break;case "function":""===D||-1!=D.search(/[^\w\.]+/i)?w[F]=new Function(D):w[F]=g.getObject(D,!1)||new Function(D);z.push(F);break;default:G=u[F],w[F]=G&&"length"in G?D?D.split(/\s*,\s*/):[]:G instanceof Date?""==D?new Date(""):"now"==D?new Date:c.fromISOString(D):G instanceof f?k.baseUrl+D:q(D)}else w[F]=D}}for(y=0;y<z.length;y++)B=z[y].toLowerCase(),d.removeAttribute(B),d[B]=null;if(L)try{L=q.call(h.propsThis,"{"+L+"}"),g.mixin(w,L)}catch(J){throw Error(J.toString()+" in data-dojo-props\x3d'"+
L+"'");}g.mixin(w,e);m||(m=b&&(b._noScript||u._noScript)?[]:v("\x3e script[type^\x3d'dojo/']",d));var K=[],R=[],P=[],Q=[];if(m)for(E=0;E<m.length;E++)B=m[E],d.removeChild(B),e=B.getAttribute(n+"event")||B.getAttribute("event"),h=B.getAttribute(n+"prop"),L=B.getAttribute(n+"method"),z=B.getAttribute(n+"advice"),y=B.getAttribute("type"),B=this._functionFromScript(B,n),e?"dojo/connect"==y?K.push({method:e,func:B}):"dojo/on"==y?Q.push({event:e,func:B}):w[e]=B:"dojo/aspect"==y?K.push({method:L,advice:z,
func:B}):"dojo/watch"==y?P.push({prop:h,func:B}):R.push(B);b=(m=b.markupFactory||u.markupFactory)?m(w,d,b):new b(w,d);return b.then?b.then(t):t(b)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(q)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},g=(b.scope||k._scopeName)+"Type",h="data-"+(b.scope||k._scopeName)+"-",m=
h+"type",q=h+"textdir",h=h+"mixins",t=a.firstChild,r=b.inherited;if(!r){var v=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&v(a.parentNode,b)},r={dir:v(a,"dir"),lang:v(a,"lang"),textDir:v(a,q)},u;for(u in r)r[u]||delete r[u]}for(var r={inherited:r},w,A;;)if(t)if(1!=t.nodeType)t=t.nextSibling;else if(w&&"script"==t.nodeName.toLowerCase())(F=t.getAttribute("type"))&&/^dojo\/\w/i.test(F)&&w.push(t),t=t.nextSibling;else if(A)t=t.nextSibling;else{var F=t.getAttribute(m)||t.getAttribute(g);
u=t.firstChild;if(!F&&(!u||3==u.nodeType&&!u.nextSibling))t=t.nextSibling;else{A=null;if(F){var G=t.getAttribute(h);w=G?[F].concat(G.split(/\s*,\s*/)):[F];try{A=z(w,b.contextRequire)}catch(J){}A||l.forEach(w,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});G=A&&!A.prototype._noScript?[]:null;r={types:w,ctor:A,parent:r,node:t,scripts:G};r.inherited=c(r);d.push(r)}else r={node:t,scripts:w,parent:r};w=G;A=t.stopParser||A&&A.prototype.stopParser&&!b.template;t=u}}else{if(!r||!r.node)break;
t=r.node.nextSibling;A=!1;r=r.parent;w=r.scripts}var K=new y;e.length?(s("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+e.join(", ")),(b.contextRequire||n)(e,function(){K.resolve(l.filter(d,function(a){if(!a.ctor)try{a.ctor=z(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):
K.resolve(d);return K.promise},_require:function(a,b){var c=q("{"+a.innerHTML+"}"),d=[],e=[],f=new y,h=b&&b.contextRequire||n,k;for(k in c)d.push(k),e.push(c[k]);h(e,function(){for(var a=0;a<d.length;a++)g.setObject(d[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new y,d=c.promise;c.resolve(!0);var e=this;v("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,
b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&g.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?h.byId(c):m.body();b=b||{};var d=b.template?{template:!0}:{},e=[],f=this,k=this._scanAmd(c,b).then(function(){return f.scan(c,b)}).then(function(a){return f._instantiate(a,d,b,!0)}).then(function(a){return e=e.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(e,k);return e}};k.parser=t;d.parseOnLoad&&b(100,t,"parse");return t})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(n,k,g,l,d,h,m,f,a,e,c,y,s){function v(){}function r(a){return function(c,d,e,f){return c&&"string"==typeof d&&c[d]==v?c.on(d.substring(2).toLowerCase(),m.hitch(e,f)):a.apply(g,arguments)}}n.around(g,"connect",r);h.connect&&n.around(h,"connect",r);n=l("dijit._Widget",[c,y,s],{onClick:v,onDblClick:v,onKeyDown:v,onKeyPress:v,onKeyUp:v,onMouseDown:v,onMouseMove:v,onMouseOut:v,onMouseOver:v,onMouseLeave:v,onMouseEnter:v,onMouseUp:v,constructor:function(a){this._toConnect={};for(var c in a)this[c]===
v&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===v?g.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(e.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});d("dijit-legacy-requires")&&a(0,function(){require(["dijit/_base"])});
return n})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(n,k,g,l,d,h,m,f,a,e,c,y,s,v,r,b,q){var A,z,u=new (k([y,m],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,
a)&&this.set("prevNode",null)});n.before(h,"empty",a);n.before(h,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,d){var e=this,f=b.document&&b.document.body;if(f){var g=c("pointer-events")?"pointerdown":c("MSPointer")?"MSPointerDown":c("touch-events")?"mousedown, touchstart":"mousedown",h=a(b.document,g,function(a){if(!a||!(a.target&&null==a.target.parentNode))e._onTouchNode(d||a.target,"mouse")}),k=a(f,"focusin",function(a){if(a.target.tagName){var b=
a.target.tagName.toLowerCase();"#document"==b||"body"==b||(r.isFocusable(a.target)?e._onFocusNode(d||a.target):e._onTouchNode(d||a.target))}}),l=a(f,"focusout",function(a){e._onBlurNode(d||a.target)});return{remove:function(){h.remove();k.remove();l.remove();f=h=k=l=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<A+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(f.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",
null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<z+100||(this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){z=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);d.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var f=l.get(a,"dijitPopupParent");if(f)a=b.byId(f).domNode;
else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===s.body())break;a=v.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),h=g&&b.byId(g);h&&!("mouse"==c&&h.get("disabled"))&&e.unshift(g);a=a.parentNode}}}catch(k){}this._setStack(e,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(A=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",a)))},_setStack:function(a,c){var d=this.activeStack,e=d.length-1,f=a.length-1;if(a[f]!=d[e]){this.set("activeStack",a);var g;for(g=e;0<=g&&d[g]!=a[g];g--)if(e=b.byId(d[g]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(c),this.emit("widget-blur",e,c);for(g++;g<=f;g++)if(e=b.byId(a[g]))e.set("focused",!0),e._focusManager==this&&e._onFocus(c),this.emit("widget-focus",e,c)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));e(function(){var b=u.registerWin(v.get(document));
c("ie")&&a(window,"unload",function(){b&&(b.remove(),b=null)})});q.focus=function(a){u.focus(a)};for(var w in u)/^_/.test(w)||(q.focus[w]="function"==typeof u[w]?f.hitch(u,w):u[w]);u.watch(function(a,b,c){q.focus[a]=c});return u})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(n,k,g,l){l.extend(k,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",
null,{_focusManager:n})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(n,k){return n("dijit._Contained",null,{_getSibling:function(g){var l=this.domNode;do l=l[g+"Sibling"];while(l&&1!=l.nodeType);return l&&k.byNode(l)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare"],function(n,k,g){return g("dijit.Destroyable",null,{destroy:function(g){this._destroyed=!0},own:function(){var g=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(d){function h(){f.remove();n.forEach(a,function(a){a.remove()})}var m,f=k.before(this,"destroy",function(a){d[m](a)}),a=[];d.then?(m="cancel",d.then(h,h)):n.forEach(g,function(e){"function"===typeof d[e]&&(m||(m=e),a.push(k.after(d,e,h,!0)))})},this);return arguments}})})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(n){return n.cache})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(n,k){return n("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(g){var k=this.checked;this._set("checked",!k);var d=this.inherited(arguments);this.set("checked",d?this.checked:k);return d},_setCheckedAttr:function(g,l){this._set("checked",g);var d=this.focusNode||this.domNode;this._created&&k.get(d,"checked")!=!!g&&k.set(d,
"checked",!!g);d.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,l)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&g.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],
function(n,k,g,l){return n("dijit.DropDownMenu",l,{templateString:g,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(d){this._moveToPopup(d);d.stopPropagation();d.preventDefault()},_onLeftArrow:function(d){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else d.stopPropagation(),d.preventDefault()}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(n,k,g,l,d,h,m,f,a,e,c,y){m=n("dijit.MenuItem"+(h("dojo-bidi")?"_NoBidi":""),[f,a,e,c],{templateString:y,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var c="",d;d=a.search(/{\S}/);if(0<=d){var c=a.charAt(d+1),b=a.substr(0,d);a=a.substr(d+3);d=b+c+a;a=b+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+c+"\x3c/span\x3e"+a}else d=a;this.domNode.setAttribute("aria-label",d+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",c)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);g.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&g.set(this.accelKeyNode,"id",this.id+"_accel");k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==h("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){l.toggle(this.domNode,
"dijitMenuItemSelected",a)},setLabel:function(a){d.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){d.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=
a?"":"none",this.accelKeyNode.innerHTML=a,g.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});h("dojo-bidi")&&(m=n("dijit.MenuItem",m,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return m})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(n,k,g,l){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);
this.containerNode||(this.containerNode=this.domNode)},addChild:function(d,h){var k=this.containerNode;if(0<h){for(k=k.firstChild;0<h;)1==k.nodeType&&h--,k=k.nextSibling;k?h="before":(k=this.containerNode,h="last")}g.place(d.domNode,k,h);this._started&&!d._started&&d.startup()},removeChild:function(d){"number"==typeof d&&(d=this.getChildren()[d]);d&&(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(d,g){l.deprecated(this.declaredClass+
"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var k=this.getChildren(),f=n.indexOf(k,d);return k[f+g]},getIndexOfChild:function(d){return n.indexOf(this.getChildren(),d)}})})},"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\r\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\r\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:esri/dijit/templates/Measurement.html":"\x3cdiv class\x3d\"esriMeasurement\"\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' class\x3d'esriMeasurementButtonContainer'\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_areaButton' iconClass\x3d'areaIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_areaButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_distanceButton' iconClass\x3d'distanceIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_distanceButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_locationButton' iconClass\x3d'locationIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_locationButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d\"esriMeasurementSeparator\"\x3e|\x3c/div\x3e\r\n    \x3cbutton dojoType\x3d'dijit.form.DropDownButton' baseClass\x3d'esriToggleButton' dojoAttachPoint\x3d'_unitDropDown' label\x3d'unit' value\x3d'unit' style\x3d'visibility:hidden;'\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultLabel' class\x3d'resultLabel esriMeasurementResultLabel'\x3e\x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultValueContainer' align\x3d'leading' class\x3d\"esriMeasurementResultValue\"\x3e\r\n    \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultValue' class\x3d'result'\x3e\x26nbsp;\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultTable' align\x3d'leading' class\x3d\"resultTable esriMeasurementTableContainer\" style\x3d\"display:none;\"\x3e\r\n    \x3ctable class\x3d\"esriMeasurementResultTable\"\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableHeader\" colspan\x3d\"2\"\x3e${_NLS_Lon}\x3c/td\x3e\x3ctd class\x3d\"esriMeasurementTableHeader\"\x3e${_NLS_Lat}\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d\"esriMeasurementTableRow\" dojoAttachPoint\x3d\"_mouseRow\"\x3e\r\n        \x3ctd dojoAttachPoint\x3d\"mouseCell\"\x3e\x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"mouseLongitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"mouseLatitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d\"esriMeasurementTableRow\"\x3e\r\n        \x3ctd dojoAttachPoint\x3d\"pinCell\"\x3e\x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"markerLongitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"markerLatitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e",
"*now":function(n){n(['dojo/i18n!*preload*esri/dijit/nls/Measurement*["ar","az","ca","cs","da","de-de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ro","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},"*noref":1}});
define("esri/dijit/Measurement","require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/debounce dojo/sniff dojo/number dojo/dom-style dojo/dom-construct dojox/gfx dijit/_Widget dijit/registry dijit/Menu dijit/MenuItem ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/jsonUtils ../geometry/geodesicUtils ../geometry/webMercatorUtils ../geometry/Point ../geometry/Polyline ../geometry/Polygon ../graphic ../tasks/AreasAndLengthsParameters ../tasks/LengthsParameters ../tasks/GeometryService ../kernel ../config ../domUtils ../lang ../units ../WKIDUnitConversion ../SpatialReference dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EventedWidget dojo/text!./templates/Measurement.html dojo/i18n!../nls/jsapi dijit/form/ToggleButton dijit/form/DropDownButton dijit/layout/ContentPane".split(" "),function(n,
k,g,l,d,h,m,f,a,e,c,y,s,v,r,b,q,A,z,u,w,t,p,x,H,C,M,I,S,T,U,N,V,B,E,D,O,L,F,G,J){k=k([F,s,O,L],{declaredClass:"esri.dijit.Measurement",widgetsInTemplate:!0,templateString:G,_map:null,_geometryService:null,_interpolatedMap:null,_mouseImgURL:null,_defaultPinURL:null,_measureGraphics:[],_measureGraphic:null,_locationGraphic:null,_tempGraphic:null,_polylineGraphics:null,_polygonGraphic:null,_pointSymbol:null,_useDefaultPointSymbol:!0,_defaultLineSymbol:null,_lineSymbol:null,_areaLineSymbol:null,_defaultFillSymbol:null,
_fillSymbol:null,_borderlessFillSymbol:null,_inputPoints:[],_unitDictionary:[],numberPattern:"#,###,###,##0.0",result:null,_defaultDistanceUnit:null,_defaultAreaUnit:null,_defaultLocationUnit:null,currentDistanceUnit:null,currentAreaUnit:null,currentLocationUnit:null,_unitStrings:{},_locationUnitStrings:[],_locationUnitStringsLong:[],_distanceUnitStrings:[],_distanceUnitStringsLong:[],_areaUnitStrings:[],_areaUnitStringsLong:[],_calculatingMsg:null,_gsErrorMsg:null,_NLS_Lat:null,_NLS_Lon:null,_mouseMoveMapHandler:null,
_mouseClickMapHandler:null,_doubleClickMapHandler:null,_mouseDragMapHandler:null,_clickMapHandler:null,_mapExtentChangeHandler:null,_geometryAreaHandler:null,_snappingCallback:null,_calcTimer:null,_buttonDijits:{},previousTool:null,activeTool:null,markerLongitude:null,markerLatitude:null,mouseLongitude:null,mouseLatitude:null,_eventMap:{"measure-start":["toolName","unitName"],measure:["toolName","geometry","values","unitName","segmentLength"],"measure-end":["toolName","geometry","values","unitName"],
"tool-change":["toolName","unitName","previousToolName"],"unit-change":["unitName","toolName"]},constructor:function(a,b){a=a||{};if(a.map){this._map=a.map;if(this._map.loaded)this._map.cs=this._checkCS(this._map.spatialReference),this._interpolatedMap=!("Web Mercator"===this._map.cs||"PCS"===this._map.cs);else var c=d.connect(this._map,"onLoad",this,function(){d.disconnect(c);c=null;this._map.cs=this._checkCS(this._map.spatialReference);this._interpolatedMap=!("Web Mercator"===this._map.cs||"PCS"===
this._map.cs)});this._geometryService=U.defaults.geometryService;this._mouseImgURL=n.toUrl("./images/cursor16x24.png");this._defaultPinURL=n.toUrl("./images/esriGreenPin16x26.png");this._defaultLineSymbol=new A(A.STYLE_SOLID,new h([0,128,255]),3);this._defaultFillSymbol=new z(A.STYLE_SOLID,new A(A.STYLE_SOLID,new h([0,128,255]),3),new h([0,0,0,0.5]));a.pointSymbol?(this._pointSymbol=a.pointSymbol,this._useDefaultPointSymbol=!1):(this._pointSymbol=new q(this._defaultPinURL,16,26),this._pointSymbol.setOffset(0,
12));var e=a.fillSymbol||this._defaultFillSymbol;this._fillSymbol=e;this._areaLineSymbol=e.outline||this._defaultLineSymbol;this._borderlessFillSymbol=u.fromJson(e.toJson());this._borderlessFillSymbol.setOutline(null);this._lineSymbol=a.lineSymbol?a.lineSymbol:this._defaultLineSymbol;this._defaultDistanceUnit=a.defaultLengthUnit?a.defaultLengthUnit:B.MILES;this._defaultAreaUnit=a.defaultAreaUnit?a.defaultAreaUnit:B.ACRES;this._defaultLocationUnit=a.defaultLocationUnit?a.defaultLocationUnit:B.DECIMAL_DEGREES;
this._snappingCallback=g.hitch(this,this._snappingCallback);a.geometry&&(this._userGeometry=a.geometry);this._calcTimer=null;this.advancedLocationUnits=a.advancedLocationUnits||!1;this.simpleLocationResults=a.simpleLocationResults||!1;this._NLS_Lon=J.widgets.measurement.NLS_longitude;this._NLS_Lat=J.widgets.measurement.NLS_latitude;this._gsErrorMsg=J.widgets.measurement.NLS_geometry_service_error;this._calculatingMsg=J.widgets.measurement.NLS_calculating;this._geometryServiceLength=m(this._geometryServiceLength,
250)}else console.log("Unable to find the required 'map' property in widget parameters")},startup:function(){this._setupDictionaries();c.create("img",{src:this._mouseImgURL,style:"vertical-align:middle"},this.mouseCell);this._useDefaultPointSymbol?c.create("img",{src:this._defaultPinURL,style:"vertical-align:middle"},this.pinCell):this._drawPointGraphics(this.pinCell);if(this._userGeometry)if(this._map.loaded)this._measureCustomGeometry();else var a=d.connect(this._map,"onLoad",this,function(){d.disconnect(a);
a=null;this._measureCustomGeometry()})},destroy:function(){this._resetToolState();this.clearResult();this.inherited(arguments);this._map=this._geometryService=this._measureGraphics=this._measureGraphic=this._tempGraphic=null},setTool:function(a,b){this.previousTool=this.activeTool||null;this._polylineGraphics=[];this._resetToolState();this._polygonGraphic&&(this._map.graphics.remove(this._polygonGraphic),this._polygonGraphic=null);var c=v.byNode(this._buttonDijits[a].domNode).checked;e.set(this._unitDropDown.domNode,
"visibility","visible");v.byNode(this._buttonDijits.area.domNode).set("checked",!1);v.byNode(this._buttonDijits.distance.domNode).set("checked",!1);v.byNode(this._buttonDijits.location.domNode).set("checked",!1);if(!0===b||!1===b)c=b;v.byNode(this._buttonDijits[a].domNode).set("checked",c);this._toggleLocationResultsTable(!1,!0);c?(this.activeTool=a,(this._dblClickZoom=this._map.isDoubleClickZoom)&&this._map.disableDoubleClickZoom(),"area"===a?this._setupAreaTool():"distance"===a?this._setupDistanceTool():
"location"===a&&this._setupLocationTool(),this._map.snappingManager&&(this._map.snappingManager._startSelectionLayerQuery(),this._map.snappingManager._setUpSnapping())):(this.activeTool=null,e.set(this._unitDropDown.domNode,"visibility","hidden"));if(this.activeTool!==this.previousTool)this.onToolChange(this.activeTool,this.getUnit(),this.previousTool)},measure:function(a){a&&(this._userGeometry=a,this._measureCustomGeometry())},clearResult:function(){var a=this._map;this.result=0;v.byNode(this.resultValue.domNode).set("content",
"\x26nbsp");var b;for(b=0;b<this._measureGraphics.length;b++)a.graphics.remove(this._measureGraphics[b]);this._measureGraphic=null;this._measureGraphics=[];a.graphics.remove(this._tempGraphic);d.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null},show:function(){N.show(this.domNode)},hide:function(){N.hide(this.domNode)},showTool:function(a){e.set(this._buttonDijits[a].domNode,"display","inline-block")},hideTool:function(a){e.set(this._buttonDijits[a].domNode,"display","none")},
getTool:function(){if(this.activeTool)return{toolName:this.activeTool,unitName:this.getUnit()}},getUnit:function(){if("unit"!==this._unitDropDown.label)return this._unitDropDown.label},_setupLocationTool:function(){this._map.navigationManager.setImmediateClick(!0);this._measureGraphics=[];this._map.graphics.remove(this._locationGraphic);this._createLocationUnitList();"PCS"===this._map.cs&&(this._projectMapExtent(this._map.extent),this._mapExtentChangeHandler=d.connect(this._map,"onExtentChange",g.hitch(this,
this._projectMapExtent)));this._clickMapHandler=d.connect(this._map,"onClick",this,"_locationClickHandler");this._mouseMoveMapHandler=d.connect(this._map,"onMouseMove",this,"_locationMoveHandler");this._mouseDragMapHandler=d.connect(this._map,"onMouseDrag",g.hitch(this,function(){v.byNode(this.resultValue.domNode).set("disabled",!0)}))},_locationButtonToggle:function(){this.clearResult();this.setTool("location")},_measureCustomPoint:function(){this.setTool("location",!0);"Web Mercator"===this._map.cs&&
this._userGeometry.spatialReference!==this._map.spatialReference&&(this._userGeometry=t.geographicToWebMercator(this._userGeometry));this._measureGraphic=new C;this._measureGraphic.setSymbol(this._pointSymbol);this._measureGraphic.setGeometry(this._userGeometry);this._measureGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);this._measurePoint(this._userGeometry)},_calculateLocation:function(a,b){var c="esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===
this.currentLocationUnit?!1:!0;c&&this._mouseMoveMapHandler&&(d.disconnect(this._mouseMoveMapHandler),this._mouseMoveMapHandler=null);var e=g.clone(a);if(b){if("Web Mercator"!==this.map.cs&&this.map.spatialReference&&4326!==this.map.spatialReference.wkid){this._projectLocation(e,c);return}this._updateMarkerLocation(e.x,e.y)}e=this._getGCSLocation(e);this._advancedLocationDisplayHandler(e,c,b)},_projectLocation:function(a,b){this._geometryService.project([a],new D({wkid:4326}),g.hitch(this,function(a){this._advancedLocationDisplayHandler(a[0],
b,!0)}),g.hitch(this,function(a){console.log(this._gsErrorMsg,a)}))},_advancedLocationDisplayHandler:function(a,b,c){b?this._updateGeocoordinateStringLocation({coordinates:[[a.x,a.y]],sr:{wkid:4326},conversionType:this._unitStrings[this.currentLocationUnit]},a.geometry):(b=this._calculateXY(a.x,a.y),c?(this._updateClickLocation(b[0],b[1]),this.onMeasureEnd(this.activeTool,a,[b[0],b[1]],this.getUnit())):this._updateMouseLocation(b[0],b[1]))},_updateMarkerLocation:function(a,b){this.markerLocationX=
a;this.markerLocationY=b},_updateMouseLocation:function(a,b){this.mouseLongitude.innerHTML=a;this.mouseLatitude.innerHTML=b},_updateClickLocation:function(a,b){this._updateMouseLocation(a,b);this.markerLongitude.innerHTML=a;this.markerLatitude.innerHTML=b},_updateGeocoordinateStringLocation:function(a,b){this.resultValue.domNode.innerHTML="\x26nbsp";this._geometryService.toGeoCoordinateString(a,g.hitch(this,function(a){clearTimeout(this._calcTimer);a?(this.resultValue.domNode.innerHTML=a,this.onMeasureEnd(this.activeTool,
b,a,this.getUnit())):(this.resultValue.domNode.innerHTML=this._gsErrorMsg,this.onMeasureEnd(this.activeTool,null,null,this.getUnit()))}));clearTimeout(this._calcTimer);this._calcTimer=setTimeout(g.hitch(this,function(){this.resultValue.domNode.innerHTML=this._calculatingMsg},1E3))},_switchLocationUnit:function(a){var b,c;v.byNode(this._unitDropDown.domNode).set("label",this._unitStrings[a]);this.currentLocationUnit=a;d.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;this.onUnitChange(this._unitStrings[a],
this.activeTool);"esriDegreeMinuteSeconds"===a||"esriDecimalDegrees"===a?(this._mouseMoveMapHandler=d.connect(this._map,"onMouseMove",this,"_locationMoveHandler"),this._toggleLocationResultsTable(!0,!1),this._locationGraphic&&this._calculateLocation(this._locationGraphic.geometry,!0)):(this._toggleLocationResultsTable(!1,!1),null===this.resultValue||null===this.markerLocationX&&null===this.markerLocationY||(b=this.markerLocationX,c=this.markerLocationY,this._locationGraphic&&this._updateGeocoordinateStringLocation({coordinates:[[b,
c]],sr:{wkid:4326},conversionType:this._unitStrings[a]},this._locationGraphic.geometry)))},_toggleLocationResultsTable:function(a,b){b&&(this.resultValue.innerHTML="\x26nbsp",this.markerLongitude.innerHTML="---",this.markerLatitude.innerHTML="---",this.mouseLongitude.innerHTML="---",this.mouseLatitude.innerHTML="---");a?(N.show(this.resultTable.domNode),N.hide(this.resultValueContainer.domNode)):(N.hide(this.resultTable.domNode),N.show(this.resultValueContainer.domNode),d.disconnect(this._mouseMoveMapHandler));
"PCS"===this._map.cs&&N.hide(this._mouseRow)},_setupDistanceTool:function(){this._map.navigationManager.setImmediateClick(!0);"PCS"===this._map.cs&&(this._projectMapExtent(this._map.extent),this._mapExtentChangeHandler=d.connect(this._map,"onExtentChange",this,"_projectMapExtent"));this._inputPoints=[];this._createDistanceUnitList();this._mouseClickMapHandler=d.connect(this._map,"onClick",this,"_measureDistanceMouseClickHandler");this._doubleClickMapHandler=d.connect(this._map,"onDblClick",this,"_measureDistanceDblClickHandler")},
_distanceButtonToggle:function(){this.clearResult();this.setTool("distance")},_measureCustomDistance:function(){1<this._userGeometry.paths[0].length&&(this.setTool("distance",!0),this._inputPoints=[],l.forEach(this._userGeometry.paths[0],g.hitch(this,function(a,b){this._inputPoints.push(a);var c=new C(new p(a[0],a[1],this._userGeometry.spatialReference),this._pointSymbol);this._measureGraphics.push(c);this._map.graphics.add(c);0!==b&&(this.result+=this._geodesicDistance(a,this._userGeometry.paths[0][b-
1]))})),this._measureGraphic=new C,this._measureGraphic.setSymbol(this._lineSymbol),this._measureGraphics.push(this._measureGraphic),this._userGeometry=this._densifyGeometry(this._userGeometry),this._measureGraphic.setGeometry(this._userGeometry),this._map.graphics.add(this._measureGraphic),this._showDistance(this.result),this._inputPoints=[],this.onMeasureEnd(this.activeTool,this._userGeometry,this.result,this.getUnit()))},_showDistance:function(a){a&&this._outputResult(a,v.byNode(this._unitDropDown.domNode).label)},
_setupAreaTool:function(){this._map.navigationManager.setImmediateClick(!0);this._inputPoints=[];this._createAreaUnitList();this._tempGraphic=new C;this._tempGraphic.setSymbol(this._areaLineSymbol);this._tempGraphic.setGeometry(new x(this._map.spatialReference));this._map.graphics.add(this._tempGraphic);"PCS"===this._map.cs&&(this._geometryAreaHandler=d.connect(this._geometryService,"onAreasAndLengthsComplete",this,"_outputArea"));this._mouseClickMapHandler=d.connect(this._map,"onClick",this,"_measureAreaMouseClickHandler");
this._doubleClickMapHandler=d.connect(this._map,"onDblClick",this,"_measureAreaDblClickHandler")},_areaButtonToggle:function(){this.clearResult();this.setTool("area")},_generatePolygonFromPaths:function(){var a=[];l.forEach(this._polylineGraphics,g.hitch(this,function(b){l.forEach(b.geometry.paths,g.hitch(this,function(b){l.forEach(b,g.hitch(this,function(b){a.push(b)}))}))}));a.push(a[0]);var b=new H(this._map.spatialReference);b.addRing(a);var b=this._densifyGeometry(b),c=new C;c.setGeometry(b);
c.setSymbol(this._borderlessFillSymbol);this._measureGraphic=c;this._measureGraphics.push(c);return c},_getArea:function(a){var b=[],c=new M;c.areaUnit=S.UNIT_ACRES;c.calculationType="geodesic";H.prototype.isSelfIntersecting(a)?this._geometryService.simplify([a],g.hitch(this,function(a){l.forEach(a,g.hitch(this,function(d){"PCS"===this._map.cs?(c.polygons=a,this._geometryService.areasAndLengths(c)):("Web Mercator"===this._map.cs&&(d=t.webMercatorToGeographic(d)),b.push(d))}));var d=w.geodesicAreas(b,
B.ACRES);this._showArea(d[0])})):("Web Mercator"===this._map.cs&&(a=t.webMercatorToGeographic(a)),b.push(a),"PCS"===this._map.cs?(c.polygons=b,this._geometryService.areasAndLengths(c)):(a=w.geodesicAreas(b,B.ACRES),this._showArea(Math.abs(a[0]))))},_outputArea:function(a){this._showArea(Math.abs(a.areas[0]))},_showArea:function(a){if(a)if(this.result=a,a=v.byNode(this._unitDropDown.domNode).label,a=this._outputResult(this.result,a),this._mouseMoveMapHandler)this.onMeasure(this.activeTool,this._measureGraphic.geometry,
a,this.getUnit(),null);else this.onMeasureEnd(this.activeTool,this._measureGraphic.geometry,a,this.getUnit())},_measureCustomArea:function(){this.setTool("area",!0);this._inputPoints=[];var a=this._densifyGeometry(this._userGeometry);this._measureGraphic=new C;this._measureGraphic.setGeometry(a);this._measureGraphic.setSymbol(this._fillSymbol);this._measureGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);this._getArea(a);this._inputPoints=[]},_resetToolState:function(){var a=
this._map;a.navigationManager.setImmediateClick(!1);this._dblClickZoom&&a.enableDoubleClickZoom();this._inputPoints=[];d.disconnect(this._mouseClickMapHandler);d.disconnect(this._mouseMoveMapHandler);d.disconnect(this._doubleClickMapHandler);d.disconnect(this._mouseDragMapHandler);d.disconnect(this._clickMapHandler);d.disconnect(this._mapExtentChangeHandler);d.disconnect(this._geometryAreaHandler);this._mouseClickMapHandler=this._mouseMoveMapHandler=this._doubleClickMapHandler=this._mouseDragMapHandler=
this._clickMapHandler=this._mapExtentChangeHandler=this._geometryAreaHandler=null;a.snappingManager&&a.snappingManager._snappingGraphic&&a.graphics.remove(a.snappingManager._snappingGraphic);this._map.snappingManager&&(this._map.snappingManager._stopSelectionLayerQuery(),this._map.snappingManager._killOffSnapping());this._unitDropDown._opened&&this._unitDropDown.closeDropDown()},_measureCustomGeometry:function(){this.clearResult();switch(this._userGeometry.type){case "point":this._measureCustomPoint();
break;case "polyline":this._measureCustomDistance();break;case "polygon":this._measureCustomArea()}},_densifyGeometry:function(a){"Web Mercator"===this._map.cs&&(a=t.webMercatorToGeographic(a));a="PCS"===this._map.cs?a:w.geodesicDensify(a,5E5);"Web Mercator"===this._map.cs&&(a=t.geographicToWebMercator(a));return a},_geodesicDistance:function(a,b){var c=new x(this._map.spatialReference);"PCS"===this._map.cs&&(a=this._getGCSLocation(a),b=this._getGCSLocation(b));c.addPath([a,b]);"Web Mercator"===this._map.cs&&
(c=t.webMercatorToGeographic(c));return w.geodesicLengths([c],B.MILES)[0]},_calculateXY:function(a,b){var c=J.widgets.measurement,d=this._map.getScale(),e,f;if(this.getUnit()===c.NLS_decimal_degrees)f=500<=d?6:500>d&&50<=d?7:50>d&&5<=d?8:9,e=a.toFixed(f),f=b.toFixed(f),f=this._roundY(f),this._map.spatialReference._isWrappable()||(e=this._roundX(e));else if(this.getUnit()===c.NLS_deg_min_sec){var g=c=!1,h,k,l,m;f=9E4<=d?0:9E4>d&&9E3<=d?1:9E3>d&&900<=d?2:900>d&&90<d?3:4;0>a&&(c=!0,a=Math.abs(a));0>
b&&(g=!0,b=Math.abs(b));b=this._roundY(b);this._map.spatialReference._isWrappable()||(a=this._roundX(a));h=Math.floor(b)+"\u00b0";e=Math.floor(a)+"\u00b0";k=Math.floor(60*(b-Math.floor(b)))+"'";d=Math.floor(60*(a-Math.floor(a)))+"'";l=(60*(60*(b-Math.floor(b))-Math.floor(60*(b-Math.floor(b))))).toFixed(f)+'"';m=(60*(60*(a-Math.floor(a))-Math.floor(60*(a-Math.floor(a))))).toFixed(f)+'"';f=h+k+l;e=e+d+m;c&&(e="-"+e);g&&(f="-"+f)}return[e,f]},_roundY:function(a){90<a?a=90:-90>a&&(a=-90);return a},_roundX:function(a){180<
a?a=180:-180>a&&(a=-180);return a},_getGCSLocation:function(a){a=g.clone(a);if("Web Mercator"===this._map.cs)a=t.webMercatorToGeographic(a);else if("PCS"===this._map.cs){if(this._map._newExtent){var b=Math.abs((this._map._newExtent.xmax-this._map._newExtent.xmin)/(this._map.extent.xmax-this._map.extent.xmin)),c=Math.abs((this._map._newExtent.ymax-this._map._newExtent.ymin)/(this._map.extent.ymax-this._map.extent.ymin));a=new p((a.x-this._map.extent.xmin)*b+this._map._newExtent.xmin,(a.y-this._map.extent.ymin)*
c+this._map._newExtent.ymin,this._map.spatialReference)}}else a=a.normalize();return a},_projectMapExtent:function(a){a=new C(a);var b=new D({wkid:4326});this._geometryService.project([a.geometry],b,g.hitch(this,function(a){if(!this._mouseMoveMapHandler&&"location"===this.activeTool){if("esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===this.currentLocationUnit)this._mouseMoveMapHandler=d.connect(this._map,"onMouseMove",g.hitch(this,this._locationMoveHandler));this._mouseMoveMapHandler=
d.connect(this._map,"onMouseMove",g.hitch(this,this._locationMoveHandler))}this._map._newExtent=a[0]}))},_checkCS:function(a){if(a.wkid)return 3857===a.wkid||102100===a.wkid||102113===a.wkid?"Web Mercator":V.isDefined(E[a.wkid])?"PCS":"GCS";if(a.wkt)return-1!==a.wkt.indexOf("WGS_1984_Web_Mercator")?"Web Mercator":0===a.wkt.indexOf("PROJCS")?"PCS":"GCS"},_switchUnit:function(a){"distance"===this.activeTool?this.currentDistanceUnit=a:"area"===this.activeTool?this.currentAreaUnit=a:"location"===this.activeTool&&
(this.currentLocationUnit=a);v.byNode(this._unitDropDown.domNode).set("label",this._unitStrings[a]);if(null!==this.result){var b=this._outputResult(this.result,this._unitStrings[a]);this.onUnitChange(this._unitStrings[a],this.activeTool);if(null!==this._measureGraphic)if(this._mouseMoveMapHandler)this.onMeasure(this.activeTool,this._measureGraphic.geometry,b,this.getUnit(),null);else this.onMeasureEnd(this.activeTool,this._measureGraphic.geometry,b,this.getUnit())}},_setupDictionaries:function(){var a=
J.widgets.measurement;this._unitDictionary[a.NLS_length_miles]=1;this._unitDictionary[a.NLS_length_kilometers]=1.609344;this._unitDictionary[a.NLS_length_feet]=5280;this._unitDictionary[a.NLS_length_meters]=1609.34;this._unitDictionary[a.NLS_length_yards]=1760;this._unitDictionary[a.NLS_length_nautical_miles]=0.869;this._unitDictionary[a.NLS_area_acres]=1;this._unitDictionary[a.NLS_area_sq_kilometers]=0.004047;this._unitDictionary[a.NLS_area_sq_miles]=0.0015625;this._unitDictionary[a.NLS_area_sq_feet]=
43560;this._unitDictionary[a.NLS_area_sq_meters]=4046.87;this._unitDictionary[a.NLS_area_hectares]=0.4047;this._unitDictionary[a.NLS_area_sq_yards]=4840;this._unitDictionary[a.NLS_area_sq_nautical_miles]=0.001179874545293396;this._unitStrings={esriMiles:a.NLS_length_miles,esriKilometers:a.NLS_length_kilometers,esriFeet:a.NLS_length_feet,esriMeters:a.NLS_length_meters,esriYards:a.NLS_length_yards,esriNauticalMiles:a.NLS_length_nautical_miles,esriAcres:a.NLS_area_acres,esriSquareKilometers:a.NLS_area_sq_kilometers,
esriSquareMiles:a.NLS_area_sq_miles,esriSquareFeet:a.NLS_area_sq_feet,esriSquareMeters:a.NLS_area_sq_meters,esriHectares:a.NLS_area_hectares,esriSquareYards:a.NLS_area_sq_yards,esriSquareNauticalMiles:a.NLS_area_sq_nautical_miles,esriDecimalDegrees:a.NLS_decimal_degrees,esriDegreeMinuteSeconds:a.NLS_deg_min_sec,esriMGRS:a.NLS_MGRS,esriUSNG:a.NLS_USNG,esriUTM:a.NLS_UTM,esriDDM:a.NLS_DDM,esriDD:a.NLS_DD,esriGARS:a.NLS_GARS,esriGeoRef:a.NLS_GeoRef};this._locationUnitStrings=[a.NLS_decimal_degrees,a.NLS_deg_min_sec,
a.NLS_MGRS,a.NLS_USNG,a.NLS_UTM,a.NLS_GeoRef,a.NLS_GARS];this._locationUnitStringsLong="esriDecimalDegrees esriDegreeMinuteSeconds esriMGRS esriUSNG esriUTM esriGeoRef esriGARS".split(" ");this._distanceUnitStrings=[a.NLS_length_miles,a.NLS_length_kilometers,a.NLS_length_feet,a.NLS_length_meters,a.NLS_length_yards,a.NLS_length_nautical_miles];this._distanceUnitStringsLong="esriMiles esriKilometers esriFeet esriMeters esriYards esriNauticalMiles".split(" ");this._areaUnitStrings=[a.NLS_area_acres,
a.NLS_area_sq_miles,a.NLS_area_sq_kilometers,a.NLS_area_hectares,a.NLS_area_sq_yards,a.NLS_area_sq_feet,a.NLS_area_sq_meters];this._areaUnitStringsLong="esriAcres esriSquareMiles esriSquareKilometers esriHectares esriSquareYards esriSquareFeet esriSquareMeters".split(" ");this._buttonDijits={area:this._areaButton,distance:this._distanceButton,location:this._locationButton};v.byNode(this._distanceButton.domNode).setLabel(a.NLS_distance);v.byNode(this._areaButton.domNode).setLabel(a.NLS_area);v.byNode(this._locationButton.domNode).setLabel(a.NLS_location);
v.byNode(this.resultLabel.domNode).setContent(a.NLS_resultLabel)},onToolChange:function(){},onUnitChange:function(){},onMeasureStart:function(){},onMeasure:function(){},onMeasureEnd:function(){},_measureAreaMouseClickHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);b=b||a.mapPoint;this._inputPoints.push(b);this._currentStartPt=b;if(1===this._inputPoints.length){this._tempGraphic.setGeometry(new x(this._map.spatialReference));for(a=0;a<this._measureGraphics.length;a++)this._map.graphics.remove(this._measureGraphics[a]);
this._measureGraphics=[];this.result=0;this._outputResult(this.result,J.widgets.measurement.NLS_area_acres);this._mouseMoveMapHandler=d.connect(this._map,"onMouseMove",this,"_measureAreaMouseMoveHandler");this.onMeasureStart(this.activeTool,this.getUnit())}this._measureGraphic=new C;this._measureGraphic.setSymbol(this._areaLineSymbol);this._measureGraphics.push(this._measureGraphic);if(1<this._inputPoints.length){var c=new x(this._map.spatialReference);c.addPath([this._inputPoints[this._inputPoints.length-
2],b]);a=new x(this._map.spatialReference);a.addPath([this._inputPoints[0],b]);b=this._densifyGeometry(c);a=this._densifyGeometry(a);this._tempGraphic.setGeometry(a);this._measureGraphic.setGeometry(b);this._polylineGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);if(2<this._inputPoints.length){b=new H(this._map.spatialReference);c=[];for(a=0;a<this._inputPoints.length;a++)c.push([this._inputPoints[a].x,this._inputPoints[a].y]);c.push([this._inputPoints[0].x,this._inputPoints[0].y]);
b.addRing(c);this._polygonGraphic?(this._map.graphics.remove(this._polygonGraphic),this._polylineGraphics.push(this._tempGraphic),this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic),this._measureGraphic=this._polygonGraphic,this._polylineGraphics.pop()):(this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic));this._getArea(b)}}else this._polygonGraphic&&(this._map.graphics.remove(this._polygonGraphic),this._polygonGraphic=
null)},_measureAreaMouseMoveHandler:function(a){var b;if(0<this._inputPoints.length){var c=new x(this._map.spatialReference),d;this._map.snappingManager&&(d=this._map.snappingManager._snappingPoint);b=d||a.mapPoint;c.addPath([this._currentStartPt,b]);a=this._densifyGeometry(c);this._tempGraphic.setGeometry(a)}1<this._inputPoints.length&&(a=new x(this._map.spatialReference),a.addPath([b,this._inputPoints[0]]),b=this._densifyGeometry(a),this._tempGraphic.setGeometry(this._tempGraphic.geometry.addPath(b.paths[0])))},
_measureAreaDblClickHandler:function(a){d.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;"touch"===this._map.navigationManager.eventModel&&f("ios")&&this._measureAreaMouseClickHandler(a);a=new H(this._map.spatialReference);var b=[],c;for(c=0;c<this._inputPoints.length;c++)b.push([this._inputPoints[c].x,this._inputPoints[c].y]);b.push([this._inputPoints[0].x,this._inputPoints[0].y]);a.addRing(b);this._inputPoints=[];this.measureGeometry=this._densifyGeometry(a);this._polygonGraphic&&
(this._map.graphics.remove(this._polygonGraphic),this._polylineGraphics.push(this._tempGraphic),this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic));this._getArea(a);this._polylineGraphics=[]},_measureDistanceMouseClickHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);a=b||a.mapPoint;this._inputPoints.push(a);this._currentStartPt=a;if(1===this._inputPoints.length){for(b=0;b<this._measureGraphics.length;b++)this._map.graphics.remove(this._measureGraphics[b]);
this._map.graphics.remove(this._tempGraphic);this._measureGraphics=[];this.result=0;this._outputResult(this.result,J.widgets.measurement.NLS_length_miles);this._tempGraphic=new C;this._tempGraphic.setSymbol(this._lineSymbol);this._map.graphics.add(this._tempGraphic);this._mouseMoveMapHandler=d.connect(this._map,"onMouseMove",this,"_measureDistanceMouseMoveHandler");this.onMeasureStart(this.activeTool,this.getUnit())}this._tempGraphic.setGeometry(new x(this._map.spatialReference));b=new C;b.setSymbol(this._pointSymbol);
b.setGeometry(a);this._measureGraphics.push(b);this._map.graphics.add(b);if(1<this._inputPoints.length)if(this._measureGraphic=new C,this._measureGraphic.setSymbol(this._lineSymbol),this._measureGraphics.push(this._measureGraphic),b=new x(this._map.spatialReference),b.addPath([this._inputPoints[this._inputPoints.length-2],a]),b=this._densifyGeometry(b),this._measureGraphic.setGeometry(b),this._map.graphics.add(this._measureGraphic),"PCS"===this._map.cs)this._geometryServiceLength(b,!1);else{b=this._geodesicDistance(this._inputPoints[this._inputPoints.length-
2],a);var c=this._outputResult(b,this.getUnit());this.result+=b;this._showDistance(this.result);this.onMeasure(this.activeTool,a,this._outputResult(this.result,this.getUnit()),this.getUnit(),c)}else b.setSymbol(this._pointSymbol)},_measureDistanceMouseMoveHandler:function(a){if(0<this._inputPoints.length){var b,c=new x(this._map.spatialReference);this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);a=b||a.mapPoint;c.addPath([this._currentStartPt,a]);c=this._densifyGeometry(c);this._tempGraphic.setGeometry(c);
"PCS"!==this._map.cs&&(b=this._geodesicDistance(this._currentStartPt,a),c=this._outputResult(b,this.getUnit()),b+=this.result,this._showDistance(b),this.onMeasure(this.activeTool,a,this._outputResult(b,this.getUnit()),this.getUnit(),c))}},_measureDistanceDblClickHandler:function(a){d.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;"touch"===this._map.navigationManager.eventModel&&f("ios")&&this._measureDistanceMouseClickHandler(a);a=new x(this._map.spatialReference);a.addPath(this._inputPoints);
a=this._densifyGeometry(a);this._measureGraphic.geometry=a;"PCS"===this._map.cs?this._geometryServiceLength(a,!0):(this._inputPoints=[],this.onMeasureEnd(this.activeTool,a,this._outputResult(this.result,this.getUnit()),this.getUnit()))},_geometryServiceLength:function(a,b){var c=new I;c.polylines=[a];c.lengthUnit=9093;c.calculationType="geodesic";this._geometryService.lengths(c,g.hitch(this,function(c){c=c.lengths[0];if(b)this.result=c,this._showDistance(this.result),this._inputPoints=[],this.onMeasureEnd(this.activeTool,
a,this._outputResult(this.result,this.getUnit()),this.getUnit());else{var d=this._outputResult(c,this.getUnit());this.result+=c;this._showDistance(this.result);this.onMeasure(this.activeTool,a,this._outputResult(this.result,this.getUnit()),this.getUnit(),d)}}))},_locationClickHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);a=b||a.mapPoint;this._locationButtonToggle();this._locationGraphic=new C;this._locationGraphic.setGeometry(a);this._locationGraphic.setSymbol(this._pointSymbol);
this._map.graphics.add(this._locationGraphic);this._measureGraphics.push(this._locationGraphic);this._calculateLocation(a,!0)},_locationMoveHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);this._calculateLocation(b||a.mapPoint,!1)},_outputResult:function(b,c){var d=b*this._unitDictionary[c];0===d?v.byNode(this.resultValue.domNode).set("content","\x26nbsp"):1E6<d?v.byNode(this.resultValue.domNode).set("content",a.format(d.toPrecision(9),{pattern:this.numberPattern})+
" "+c):10>d?v.byNode(this.resultValue.domNode).set("content",a.format(d.toFixed(2),{pattern:this.numberPattern+"0"})+" "+c):v.byNode(this.resultValue.domNode).set("content",a.format(d.toFixed(2),{pattern:this.numberPattern})+" "+c);return d},_createDistanceUnitList:function(){var a,c=new r({style:"display: none;"});l.forEach(this._distanceUnitStrings,g.hitch(this,function(a,d){var e=new b({label:a,onClick:g.hitch(this,function(){this._switchUnit(this._distanceUnitStringsLong[d])})});e.set("class",
"unitDropDown");c.addChild(e)}));v.byNode(this._unitDropDown.domNode).set("dropDown",c);this.currentDistanceUnit?(a=this._unitStrings[this.currentDistanceUnit],v.byNode(this._unitDropDown.domNode).set("label",a)):(a=this._unitStrings[this._defaultDistanceUnit],v.byNode(this._unitDropDown.domNode).set("label",a),this.currentDistanceUnit=this._defaultDistanceUnit)},_createAreaUnitList:function(){var a,c=new r({style:"display: none;"});l.forEach(this._areaUnitStrings,g.hitch(this,function(a,d){var e=
new b({label:a,onClick:g.hitch(this,function(){this._switchUnit(this._areaUnitStringsLong[d])})});e.set("class","unitDropDown");c.addChild(e)}));v.byNode(this._unitDropDown.domNode).set("dropDown",c);this.currentAreaUnit?(a=this._unitStrings[this.currentAreaUnit],v.byNode(this._unitDropDown.domNode).set("label",a)):(a=this._unitStrings[this._defaultAreaUnit],v.byNode(this._unitDropDown.domNode).set("label",a),this.currentAreaUnit=this._defaultAreaUnit)},_createLocationUnitList:function(){var a;a=
this._locationUnitStrings;var c=new r({style:"display: none;"});if(null===this._geometryService||!1===this.advancedLocationUnits)a=a.slice(0,2);l.forEach(a,g.hitch(this,function(a,d){var e=new b({label:a,onClick:g.hitch(this,function(){this._switchLocationUnit(this._locationUnitStringsLong[d])})});e.set("class","unitDropDown");c.addChild(e)}));v.byNode(this._unitDropDown.domNode).set("dropDown",c);this.currentLocationUnit||(this.currentLocationUnit=this._defaultLocationUnit);a=this._unitStrings[this.currentLocationUnit];
v.byNode(this._unitDropDown.domNode).set("label",a);("esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===this.currentLocationUnit)&&this._toggleLocationResultsTable(!0,!1)},_drawPointGraphics:function(a){var b,d,h;d=this._pointSymbol;a=c.create("div",{"class":"esriLocationResultSymbol"},a);a=y.createSurface(a,10,10);9>f("ie")&&(b=a.getEventSource(),e.set(b,"position","relative"),e.set(b.parentNode,"position","relative"));d=d.getShapeDescriptors();try{h=a.createShape(d.defaultShape).setFill(d.fill).setStroke(d.stroke)}catch(k){a.clear();
a.destroy();return}var l=h.getBoundingBox();d=l.width;b=l.height;var m=-(l.x+d/2),l=-(l.y+b/2);a=a.getDimensions();a={dx:m+a.width/2,dy:l+a.height/2};if(10<d||10<b)d=5/(d/10>b/10?d:b),g.mixin(a,{xx:d,yy:d});h.applyTransform(a)}});f("extend-esri")&&g.setObject("dijit.Measurement",k,T);return k});